<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>@rushstack/eslint-patch | portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="@rushstack/eslint-patch" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/@rushstack/eslint-patch/" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/@rushstack/eslint-patch/" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="@rushstack/eslint-patch" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"@rushstack/eslint-patch","url":"http://localhost:4000/myportfolio.client/node_modules/@rushstack/eslint-patch/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=00c08f3bd19ad2390c706d50e4f8968f8b47944c">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <h1 id="rushstackeslint-patch">@rushstack/eslint-patch</h1>

<p>A patch that improves how ESLint loads plugins when working in a monorepo with a reusable toolchain</p>

<h1 id="modern-module-resolution">modern-module-resolution</h1>

<h2 id="what-it-does">What it does</h2>

<p>This patch is a workaround for a longstanding <a href="https://github.com/eslint/eslint/issues/3458">ESLint feature request</a>
that would allow a shared ESLint config to bring along its own plugins, rather than imposing peer dependencies
on every consumer of the config.  In a monorepo scenario, this enables your lint setup to be consolidated in a
single NPM package.  Doing so greatly reduces the copy+pasting and version management for all the other projects
that use your standard lint rule set, but don’t want to be bothered with the details.</p>

<p>ESLint provides partial solutions such as the <code class="language-plaintext highlighter-rouge">--resolve-plugins-relative-to</code> CLI option, however they are
awkward to use.  For example, the VS Code extension for ESLint must be manually configured with this CLI option.
If some developers use other editors such as WebStorm, a different manual configuration is needed.
Also, the <code class="language-plaintext highlighter-rouge">--resolve-plugins-relative-to</code> parameter does not support multiple paths, for example if a config package
builds upon another package that also provides plugins.  See
<a href="https://github.com/eslint/eslint/issues/3458#issuecomment-516666620">this discussion</a>
for additional technical background.</p>

<h2 id="why-its-a-patch">Why it’s a patch</h2>

<p>ESLint’s long awaited module resolver overhaul still has not materialized as of ESLint 8.  As a stopgap,
we created a small <strong>.eslintrc.js</strong> patch that solves the problem adequately for most real world scenarios.
This patch was proposed as an ESLint feature with <a href="https://github.com/eslint/eslint/pull/12460">PR 12460</a>, however
the maintainers were not able to accept it unless it is reworked into a fully correct design.  Such a requirement
would impose the same hurdles as the original GitHub issue; thus, it seems best to stay with the patch approach.</p>

<p>Since the patch is now in wide use, we’ve converted it into a proper NPM package to simplify maintenance.</p>

<h2 id="how-to-use-it">How to use it</h2>

<p>Add a <code class="language-plaintext highlighter-rouge">require()</code> call to the to top of the <strong>.eslintrc.js</strong> file for each project that depends on your shared
ESLint config, for example:</p>

<p><strong>.eslintrc.js</strong></p>
<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@rushstack/eslint-patch/modern-module-resolution</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">// Add your "extends" boilerplate here, for example:</span>
<span class="kr">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">extends</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">@your-company/eslint-config</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">parserOptions</span><span class="p">:</span> <span class="p">{</span> <span class="na">tsconfigRootDir</span><span class="p">:</span> <span class="nx">__dirname</span> <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>With this change, the local project no longer needs any ESLint plugins in its <strong>package.json</strong> file.
Instead, the hypothetical <code class="language-plaintext highlighter-rouge">@your-company/eslint-config</code> NPM package would declare the plugins as its
own dependencies.</p>

<p>This patch works by modifying the ESLint engine so that its module resolver will load relative to the folder of
the referencing config file, rather than the project folder.  The patch is compatible with ESLint 6, 7, and 8.
It also works with any editor extensions that load ESLint as a library.</p>

<p>There is a second patch in this package that removes the restriction on eslint configuration package names.
Similarly to the first, this patch is applied by adding a <code class="language-plaintext highlighter-rouge">require()</code> call to the top of the <strong>.eslintrc.js</strong>,
for example:</p>

<p><strong>.eslintrc.js</strong></p>
<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@rushstack/eslint-patch/modern-module-resolution</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@rushstack/eslint-patch/custom-config-package-names</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// &lt;-- Add this line</span>

<span class="c1">// Add your "extends" boilerplate here, for example:</span>
<span class="kr">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">extends</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">'</span><span class="s1">@your-company/build-rig/profile/default/includes/eslint/node</span><span class="dl">'</span> <span class="c1">// Notice the package name does not start with "eslint-config-"</span>
  <span class="p">],</span>
  <span class="na">parserOptions</span><span class="p">:</span> <span class="p">{</span> <span class="na">tsconfigRootDir</span><span class="p">:</span> <span class="nx">__dirname</span> <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>For an even leaner setup, <code class="language-plaintext highlighter-rouge">@your-company/eslint-config</code> can provide the patches as its own dependency.  See
<a href="https://www.npmjs.com/package/@rushstack/eslint-config">@rushstack/eslint-config</a> for a real world example
and recommended approach.</p>

<h1 id="eslint-bulk-suppressions">eslint-bulk-suppressions</h1>

<p>A tool that allows bulk suppression of ESLint warnings/errors in a large, old codebase when introducing new ESLint rules.</p>

<h2 id="what-it-does-1">What it does</h2>

<p>This tool is designed to address the issue of introducing new ESLint rules to a large, old codebase, which often
results in hundreds to tens of thousands of retroactive issues being reported by ESLint. This can clutter the
ESLint output, making it difficult to read and potentially causing developers to overlook new ESLint issues. It
also makes it impractical to use merge request pipelines that block ESLint warnings/errors.</p>

<p>The tool provides a mechanism for recording all retroactively introduced ESLint warnings/errors in a
“bulk suppressions” file, hiding them from the ESLint output. This allows developers to still get most of the
benefits of ESLint, as any new code written will be annotated by ESLint and can be fixed in bite-sized portions.
It also allows the use of merge request pipelines to block newly written error-prone code without blocking legacy
code that has been battle-tested.</p>

<h2 id="why-its-a-patch-1">Why it’s a patch</h2>
<p>The bulk suppressions feature is implemented as a monkey-patch, inspired by the modern-module-resolution
implementation. We prefer it as a patch because it allows users to opt-in to using the tool at their own discretion.
Similar to modern-module-resolution, the use case is much more pronounced in large codebases where ESLint
warnings/errors can appear at magnitudes of thousands rather than tens. Besides reducing bundle size, this also
allows us to gauge interest in this tool.</p>

<p>This approach inevitably results in forwards compatibility issues with versions of ESLint. The patch has
some logic to determine which version of ESLint you’re using and uses the corresponding patch file.</p>

<h2 id="how-to-use-it-1">How to use it</h2>

<p>To use the tool, you need to add a <code class="language-plaintext highlighter-rouge">require()</code> call to the top of the <strong>.eslintrc.js</strong> file for each project
that you want to use the tool with, for example:</p>

<p><strong>.eslintrc.js</strong></p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@rushstack/eslint-patch/eslint-bulk-suppressions</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">rules</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">rule1</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">rule2</span><span class="p">:</span> <span class="dl">'</span><span class="s1">warning</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">parserOptions</span><span class="p">:</span> <span class="p">{</span> <span class="na">tsconfigRootDir</span><span class="p">:</span> <span class="nx">__dirname</span> <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>We also highly recommend globally installing the companion CLI tool to your local system with</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i <span class="nt">-g</span> @rushstack/eslint-bulk
</code></pre></div></div>

<p>The <strong>eslint-bulk</strong> package is a set of command line tools to use with the ESLint bulk suppressions patch.
eslint-bulk commands must be run in the same current working directory containing your package’s pertaining
.eslintrc.js or .eslintrc.cjs file.</p>

<h2 id="eslint-bulk-suppress">eslint-bulk suppress</h2>

<p>Use this command to automatically generate bulk suppressions for the given files and given rules.
Supply the paths as the main argument. The paths argument is a glob pattern that follows the same
rules as the “files” argument in the “eslint” command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>eslint-bulk suppress <span class="nt">--rule</span> NAME1 <span class="o">[</span><span class="nt">--rule</span> NAME2...] PATH1 <span class="o">[</span>PATH2...]
eslint-bulk suppress <span class="nt">--all</span> PATH1 <span class="o">[</span>PATH2...]
</code></pre></div></div>

<h2 id="eslint-bulk-prune">eslint-bulk prune</h2>

<p>Use this command to automatically delete all unused suppression entries in all .eslint-bulk-suppressions.json
files under the current working directory.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>eslint-bulk prune
</code></pre></div></div>

<h1 id="links">Links</h1>

<ul>
  <li><a href="https://github.com/microsoft/rushstack/blob/main/eslint/eslint-patch/CHANGELOG.md">CHANGELOG.md</a> - Find
out what’s new in the latest version</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">@rushstack/eslint-patch</code> is part of the <a href="https://rushstack.io/">Rush Stack</a> family of projects.</p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
