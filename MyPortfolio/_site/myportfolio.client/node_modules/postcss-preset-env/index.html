<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>PostCSS Preset Env [][postcss] | portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="PostCSS Preset Env [][postcss]" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/postcss-preset-env/" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/postcss-preset-env/" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="PostCSS Preset Env [][postcss]" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"PostCSS Preset Env [][postcss]","url":"http://localhost:4000/myportfolio.client/node_modules/postcss-preset-env/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=00c08f3bd19ad2390c706d50e4f8968f8b47944c">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <h1 id="postcss-preset-env-">PostCSS Preset Env <a href="https://github.com/postcss/postcss"><img src="https://postcss.github.io/postcss/logo.svg" alt="PostCSS" width="90" height="90" align="right" /></a></h1>

<p><a href="https://www.npmjs.com/package/postcss-preset-env"><img alt="npm version" src="https://img.shields.io/npm/v/postcss-preset-env.svg" height="20" /></a>
<a href="https://github.com/csstools/postcss-plugins/actions/workflows/test.yml?query=workflow/test"><img alt="build status" src="https://github.com/csstools/postcss-plugins/workflows/test/badge.svg" height="20" /></a>
<a href="https://packagephobia.com/result?p=postcss-preset-env"><img src="https://packagephobia.com/badge?p=postcss-preset-env" alt="install size" /></a>
<a href="https://discord.gg/bUadyRwkJS"><img alt="Discord" src="https://shields.io/badge/Discord-5865F2?logo=discord&amp;logoColor=white" /></a></p>

<p><a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> lets you convert modern CSS into something most browsers
can understand, determining the polyfills you need based on your targeted
browsers or runtime environments.</p>

<h2 id="quick-start">Quick start</h2>

<p><a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> is a <a href="https://github.com/postcss/postcss">PostCSS</a> plugin.<br />
If you are already using <a href="https://github.com/postcss/postcss">PostCSS</a> to build your CSS, you can simply add <a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> to your configuration.</p>

<ul>
  <li>Install <code class="language-plaintext highlighter-rouge">postcss-preset-env</code> from npm.</li>
  <li>Add <code class="language-plaintext highlighter-rouge">postcss-preset-env</code> to your configuration:</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">postcssPresetEnv</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">postcss-preset-env</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">yourConfig</span> <span class="o">=</span> <span class="p">{</span>
	<span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
		<span class="nx">postcssPresetEnv</span><span class="p">(</span><span class="cm">/* pluginOptions */</span><span class="p">)</span>
	<span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<p><em><a href="#usage">Read more on how to use and install PostCSS Preset Env.</a></em></p>

<h2 id="how-does-it-work">How does it work?</h2>

<p><a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> is a Plugin Pack for <a href="https://github.com/postcss/postcss">PostCSS</a>. It leverages the list of the features we keep an eye from <a href="https://cssdb.org/">CSSDB</a> and applies plugins, so you can use those new features without having to worry about browser support.</p>

<p>CSSDB exposes the browser support that each feature has which can come from <a href="https://caniuse.com/css-all">Can I Use</a> or from <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/all">MDN</a> (through <a href="https://github.com/mdn/browser-compat-data">mdn/browser-compat-data</a>).</p>

<p>By providing a list of browser targets for your project, plugins that aren’t needed will be skipped. Over time your targets might change and by updating the settings your CSS bundle will only ever contain the needed fallbacks.</p>

<p>What <a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> does is to take the support data that comes from MDN and Can I Use and determine from a <a href="https://github.com/browserslist/browserslist">browserlist</a> whether those transformations are needed. It also packs <a href="https://github.com/postcss/autoprefixer">Autoprefixer</a> within and shares the list with it, so prefixes are only applied when you’re going to need them given your browser support list.</p>

<h3 id="glossary">Glossary:</h3>

<ul>
  <li><strong>Browser list option</strong>: <a href="https://github.com/browserslist/browserslist">Browserlist</a> is a package that gives you a list of browsers for a given query. For example, <code class="language-plaintext highlighter-rouge">chrome &lt; 42</code> will give you a list of every Chrome version that has been released up to, but not including, 42.</li>
  <li><strong>Browser support stats</strong>: Features get introduced on browsers at certain versions. They’re often visible on <a href="https://developer.mozilla.org/en-US/">MDN</a> and <a href="https://caniuse.com/">Can I Use</a>. Comparing these stats with the needed <em>support</em> for your project tells you if it’s safe to use a feature or not.</li>
  <li><strong>CSS Feature</strong>: A CSS feature is often part of some spec that enables a specific feature. For example, <code class="language-plaintext highlighter-rouge">hwb</code> functional notation lets you express a given color according to its hue, whiteness, and blackness. This is part of the CSS Color 4 Spec.</li>
  <li><strong>CSS Spec</strong>: A Spec is a document that collects new features, what problems are they trying to solve and how it’s intended to be solved (generally). This is usually an evolving document that goes over lengthy discussions between several people from different companies.</li>
  <li><strong>Plugin</strong>: A plugin is package that’s intended (usually) to enable a new CSS Feature by leveraging PostCSS. This doesn’t need to be part of any spec. An example of the latter is <a href="https://github.com/postcss/postcss-mixins">PostCSS Mixins</a>, a concept that existed on Less or Sass, but it’s not part of any spec. This plugin plack <strong>only</strong> packs plugins that enable features acknowledged by the World Wide Web Consortium (W3C) which will then be implemented by browsers later.</li>
  <li><strong>Polyfill</strong>: A polyfill is a piece of code (usually JavaScript on the Web) used to provide modern functionality on older browsers that do not natively support it. A polyfill <em>should</em> be indistinguishable from the native behaviour.</li>
</ul>

<p>Here’s a quick example of the syntax you can leverage by using <a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a>.</p>

<pre><code class="language-pcss">@custom-media --viewport-medium (width &lt;= 50rem);
@custom-selector :--heading h1, h2, h3, h4, h5, h6;

:root {
  --mainColor: #12345678;
}

body {
  color: var(--mainColor);
  font-family: system-ui;
  overflow-wrap: break-word;
}

:--heading {
  background-image: image-set(url(img/heading.png) 1x, url(img/heading@2x.png) 2x);

  @media (--viewport-medium) {
    margin-block: 0;
  }
}

a {
  color: rgb(0 0 100% / 90%);

  &amp;:hover {
    color: rebeccapurple;
  }
}

/* becomes */

:root {
  --mainColor: rgba(18, 52, 86, 0.47059);
}

body {
  color: rgba(18, 52, 86, 0.47059);
  color: var(--mainColor);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Droid Sans, Helvetica Neue;
  word-wrap: break-word;
}

h1, h2, h3, h4, h5, h6 {
  background-image: url(img/heading.png);
}

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  h1, h2, h3, h4, h5, h6 {
    background-image: url(img/heading@2x.png)
  }
}

@media (max-width: 50rem) {
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
    margin-bottom: 0;
  }
}

a {
  color: rgba(0, 0, 255, 0.9)
}

a:hover {
  color: #639;
}
</code></pre>

<p>Without any configuration options, <a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> enables <strong>Stage 2</strong>
features and supports <strong>all</strong> browsers.</p>

<p><a href="https://csstools.github.io/postcss-preset-env/"><img src="https://csstools.github.io/postcss-preset-env/readme-transform-with-preset-env.svg" alt="Transform with Preset Env" /></a>
<a href="https://codepen.io/pen?template=OZRovK"><img src="https://csstools.github.io/postcss-preset-env/readme-style-with-preset-env.svg" alt="Style with Preset Env" /></a></p>

<p>⚠️ Please note that some features need a companion library that makes 
the feature work. While we try to avoid this requirement, there are instances
in which this isn’t possible to polyfill a new behaviour with <em>just</em> CSS.</p>

<p><a href="#plugins-that-need-client-library">See the list below</a>.</p>

<h2 id="usage">Usage</h2>

<p>Add <a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> to your project:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>postcss-preset-env <span class="nt">--save-dev</span>
</code></pre></div></div>

<p>Use <a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> as a <a href="https://github.com/postcss/postcss">PostCSS</a> plugin:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">postcss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">postcss</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">postcssPresetEnv</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">postcss-preset-env</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">postcss</span><span class="p">([</span>
  <span class="nx">postcssPresetEnv</span><span class="p">(</span><span class="cm">/* pluginOptions */</span><span class="p">)</span>
<span class="p">]).</span><span class="nx">process</span><span class="p">(</span><span class="nx">YOUR_CSS</span> <span class="cm">/*, processOptions */</span><span class="p">);</span>
</code></pre></div></div>

<p><a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> runs in all Node environments, with special instructions for:</p>

<p>| <a href="INSTALL.md#node">Node</a> | <a href="INSTALL.md#postcss-cli">PostCSS CLI</a> | <a href="INSTALL.md#webpack">Webpack</a> | <a href="INSTALL.md#create-react-app">Create React App</a> | <a href="INSTALL.md#gulp">Gulp</a> | <a href="INSTALL.md#grunt">Grunt</a> | <a href="INSTALL.md#rollup">Rollup</a> |
| — | — | — | — | — | — | — |</p>

<h2 id="options">Options</h2>

<h3 id="stage">stage</h3>

<p>The <code class="language-plaintext highlighter-rouge">stage</code> option determines which CSS features to polyfill, based upon their
stability in the process of becoming implemented web standards.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span> <span class="na">stage</span><span class="p">:</span> <span class="mi">0</span> <span class="p">})</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">stage</code> can be <code class="language-plaintext highlighter-rouge">0</code> (experimental) through <code class="language-plaintext highlighter-rouge">4</code> (stable), or <code class="language-plaintext highlighter-rouge">false</code>. Setting
<code class="language-plaintext highlighter-rouge">stage</code> to <code class="language-plaintext highlighter-rouge">false</code> will disable every polyfill. Doing this would only be useful
if you intended to exclusively use the <a href="#features"><code class="language-plaintext highlighter-rouge">features</code></a> option.</p>

<p>Default: <code class="language-plaintext highlighter-rouge">2</code></p>

<h3 id="minimumvendorimplementations">minimumVendorImplementations</h3>

<p>The <code class="language-plaintext highlighter-rouge">minimumVendorImplementations</code> option determines which CSS features to polyfill, based their implementation status.
This can be used to enable plugins that are available in browsers regardless of the <a href="#stage">spec status</a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span> <span class="na">minimumVendorImplementations</span><span class="p">:</span> <span class="mi">2</span> <span class="p">})</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">minimumVendorImplementations</code> can be <code class="language-plaintext highlighter-rouge">0</code> (no vendor has implemented it) through <code class="language-plaintext highlighter-rouge">3</code> (all major vendors).<br /></p>

<p>Default: <code class="language-plaintext highlighter-rouge">0</code></p>

<p><strong>Note:</strong></p>

<p>When a feature has not yet been implemented by any vendor it can be considered experimental.<br />
Even with a single implementation it might still change in the future.<br />
Sometimes issues with a feature/specification are only discovered after it becomes available.</p>

<p>A value of <code class="language-plaintext highlighter-rouge">2</code> is recommended when you want to use only those features that should be <a href="#stability-and-portability">stable</a>.</p>

<p>Having 2 independent implementations is <a href="https://www.w3.org/2021/Process-20211102/#implementation-experience">a critical step in proposals becoming standards</a> and a good indicator of a feature’s stability.</p>

<h3 id="features">features</h3>

<p>The <code class="language-plaintext highlighter-rouge">features</code> option enables or disables specific polyfills by ID. Passing
<code class="language-plaintext highlighter-rouge">true</code> to a specific feature ID will enable its polyfill, while passing <code class="language-plaintext highlighter-rouge">false</code>
will disable it. <a href="https://github.com/csstools/postcss-plugins/blob/main/plugin-packs/postcss-preset-env/FEATURES.md">List of Features</a></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span>
  <span class="cm">/* use stage 3 features + css nesting rules */</span>
  <span class="na">stage</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">features</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">nesting-rules</span><span class="dl">'</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Passing an object to a specific feature ID will both enable and configure it.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span>
  <span class="cm">/* use stage 3 features + css color-mod (warning on unresolved) */</span>
  <span class="na">stage</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">features</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">color-mod-function</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span> <span class="na">unresolved</span><span class="p">:</span> <span class="dl">'</span><span class="s1">warn</span><span class="dl">'</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Any polyfills not explicitly enabled or disabled through <code class="language-plaintext highlighter-rouge">features</code> are
determined by the <a href="#stage"><code class="language-plaintext highlighter-rouge">stage</code></a> option.</p>

<h3 id="browsers">browsers</h3>

<p>The <code class="language-plaintext highlighter-rouge">browsers</code> option determines which polyfills are required based upon the
browsers you are supporting.</p>

<p><a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> supports any standard <a href="https://github.com/browserslist/browserslist#readme">browserslist</a> configuration, which
can be a <code class="language-plaintext highlighter-rouge">.browserslistrc</code> file, a <code class="language-plaintext highlighter-rouge">browserslist</code> key in <code class="language-plaintext highlighter-rouge">package.json</code>, or
<code class="language-plaintext highlighter-rouge">browserslist</code> environment variables.</p>

<p>The <code class="language-plaintext highlighter-rouge">browsers</code> option should only be used when a standard browserslist
configuration is not available.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span> <span class="na">browsers</span><span class="p">:</span> <span class="dl">'</span><span class="s1">last 2 versions</span><span class="dl">'</span> <span class="p">})</span>
</code></pre></div></div>

<p>If no valid browserslist configuration is specified, the
<a href="https://github.com/browserslist/browserslist#queries">default browserslist query</a>
will be used.</p>

<h3 id="insertbefore--insertafter">insertBefore / insertAfter</h3>

<p>The <code class="language-plaintext highlighter-rouge">insertBefore</code> and <code class="language-plaintext highlighter-rouge">insertAfter</code> keys allow you to insert other PostCSS
plugins into the chain. This is only useful if you are also using sugary
PostCSS plugins that must execute before or after certain polyfills.
Both <code class="language-plaintext highlighter-rouge">insertBefore</code> and <code class="language-plaintext highlighter-rouge">insertAfter</code> support chaining one or multiple plugins.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">postcssSimpleVars</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">postcss-simple-vars</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">postcssPresetEnv</span><span class="p">({</span>
  <span class="na">insertBefore</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">all-property</span><span class="dl">'</span><span class="p">:</span> <span class="nx">postcssSimpleVars</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="autoprefixer">autoprefixer</h3>

<p><a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> includes <a href="https://github.com/postcss/autoprefixer">autoprefixer</a> and <a href="#browsers"><code class="language-plaintext highlighter-rouge">browsers</code></a> option
will be passed to it automatically.</p>

<p>Specifying the <code class="language-plaintext highlighter-rouge">autoprefixer</code> option enables passing
<a href="https://github.com/postcss/autoprefixer#options">additional options</a>
into <a href="https://github.com/postcss/autoprefixer">autoprefixer</a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span>
  <span class="na">autoprefixer</span><span class="p">:</span> <span class="p">{</span> <span class="na">grid</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Passing <code class="language-plaintext highlighter-rouge">autoprefixer: false</code> disables autoprefixer.</p>

<p>⚠️ <a href="https://github.com/postcss/autoprefixer">autoprefixer</a> has <a href="https://github.com/postcss/autoprefixer#grid-autoplacement-support-in-ie">complex logic to fix CSS Grid in IE and older Edge</a>.</p>

<p>This can have unexpected results with certain features and when <a href="#preserve"><code class="language-plaintext highlighter-rouge">preserve: true</code></a> is used. (defaults to <code class="language-plaintext highlighter-rouge">true</code>)</p>

<pre><code class="language-pcss">:root {
  --grid-gap: 15px;
}

.test-grid {
	grid-gap: var(--grid-gap);
	grid-template-columns: repeat(2, 1fr);
}
</code></pre>

<p>Becomes :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.test-grid {
	grid-gap: 15px;
	grid-gap: var(--grid-gap);
	-ms-grid-columns: 1fr var(--grid-gap) 1fr;
	grid-template-columns: repeat(2, 1fr);
}
</code></pre></div></div>

<p>The prefixed <code class="language-plaintext highlighter-rouge">-ms-grid-columns</code> still has a custom property: <code class="language-plaintext highlighter-rouge">1fr var(--grid-gap) 1fr;</code> which won’t work.<br />
This example shows issues with custom properties but other transforms might have similar issues.</p>

<p>If you target IE or older Edge it is best to avoid using other modern features in grid property values.<br />
As a last resort you can set <a href="#preserve"><code class="language-plaintext highlighter-rouge">preserve: false</code></a>, we do not advice this as doing so purely to fix issues with CSS grid.</p>

<p><em>older Edge is any version before chromium (&lt;79)</em></p>

<h3 id="preserve">preserve</h3>

<p>The <code class="language-plaintext highlighter-rouge">preserve</code> option determines whether all plugins should receive a
<code class="language-plaintext highlighter-rouge">preserve</code> option, which may preserve or remove otherwise-polyfilled CSS. By
default, this option is not configured.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span>
  <span class="na">preserve</span><span class="p">:</span> <span class="kc">false</span> <span class="c1">// instruct all plugins to omit pre-polyfilled CSS</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="importfrom">importFrom</h3>

<p>The <code class="language-plaintext highlighter-rouge">importFrom</code> option specifies sources where variables like Custom Media,
Custom Properties, Custom Selectors, and Environment Variables can be imported
from, which might be CSS, JS, and JSON files, functions, and directly passed
objects.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span>
  <span class="cm">/*
    @custom-media --small-viewport (max-width: 30em);
    @custom-selector :--heading h1, h2, h3;
    :root { --color: red; }
  */</span>
  <span class="na">importFrom</span><span class="p">:</span> <span class="dl">'</span><span class="s1">path/to/file.css</span><span class="dl">'</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Multiple sources can be passed into this option, and they will be parsed in the
order they are received. JavaScript files, JSON files, functions, and objects
will use different namespaces to import different kinds of variables.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span>
  <span class="na">importFrom</span><span class="p">:</span> <span class="p">[</span>
    <span class="cm">/*
      @custom-media --small-viewport (max-width: 30em);
      @custom-selector :--heading h1, h2, h3;
      :root { --color: red; }
    */</span>
    <span class="dl">'</span><span class="s1">path/to/file.css</span><span class="dl">'</span><span class="p">,</span>

    <span class="cm">/* module.exports = {
      customMedia: { '--small-viewport': '(max-width: 30em)' },
      customProperties: { '--color': 'red' },
      customSelectors: { ':--heading': 'h1, h2, h3' },
      environmentVariables: { '--branding-padding': '20px' }
    } */</span>
    <span class="dl">'</span><span class="s1">and/then/this.js</span><span class="dl">'</span><span class="p">,</span>

    <span class="cm">/* {
      "custom-media": { "--small-viewport": "(max-width: 30em)" }
      "custom-properties": { "--color": "red" },
      "custom-selectors": { ":--heading": "h1, h2, h3" },
      "environment-variables": { "--branding-padding": "20px" }
    } */</span>
    <span class="dl">'</span><span class="s1">and/then/that.json</span><span class="dl">'</span><span class="p">,</span>

    <span class="p">{</span>
      <span class="na">customMedia</span><span class="p">:</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">--small-viewport</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">(max-width: 30em)</span><span class="dl">'</span> <span class="p">},</span>
      <span class="na">customProperties</span><span class="p">:</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">--color</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">red</span><span class="dl">'</span> <span class="p">},</span>
      <span class="na">customSelectors</span><span class="p">:</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">:--heading</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">h1, h2, h3</span><span class="dl">'</span> <span class="p">},</span>
      <span class="na">environmentVariables</span><span class="p">:</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">--branding-padding</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">20px</span><span class="dl">'</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">customMedia</span> <span class="o">=</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">--small-viewport</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">(max-width: 30em)</span><span class="dl">'</span> <span class="p">};</span>
      <span class="kd">const</span> <span class="nx">customProperties</span> <span class="o">=</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">--color</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">red</span><span class="dl">'</span> <span class="p">};</span>
      <span class="kd">const</span> <span class="nx">customSelectors</span> <span class="o">=</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">:--heading</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">h1, h2, h3</span><span class="dl">'</span> <span class="p">};</span>
      <span class="kd">const</span> <span class="nx">environmentVariables</span> <span class="o">=</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">--branding-padding</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">20px</span><span class="dl">'</span> <span class="p">};</span>

      <span class="k">return</span> <span class="p">{</span> <span class="nx">customMedia</span><span class="p">,</span> <span class="nx">customProperties</span><span class="p">,</span> <span class="nx">customSelectors</span><span class="p">,</span> <span class="nx">environmentVariables</span> <span class="p">};</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="exportto">exportTo</h3>

<p>The <code class="language-plaintext highlighter-rouge">exportTo</code> option specifies destinations where variables like Custom Media,
Custom Properties, Custom Selectors, and Environment Variables can be exported
to, which might be CSS, JS, and JSON files, functions, and directly passed
objects.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">postcssPresetEnv</span><span class="p">({</span>
  <span class="cm">/*
    @custom-media --small-viewport (max-width: 30em);
    @custom-selector :--heading h1, h2, h3;
    :root { --color: red; }
  */</span>
  <span class="na">exportTo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">path/to/file.css</span><span class="dl">'</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Multiple destinations can be passed into this option as well, and they will be
parsed in the order they are received. JavaScript files, JSON files, and
objects will use different namespaces to import different kinds of variables.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">cachedObject</span> <span class="o">=</span> <span class="p">{};</span>

<span class="nx">postcssPresetEnv</span><span class="p">({</span>
  <span class="na">exportTo</span><span class="p">:</span> <span class="p">[</span>
    <span class="cm">/*
      @custom-media --small-viewport (max-width: 30em);
      @custom-selector :--heading h1, h2, h3;
      :root { --color: red; }
    */</span>
    <span class="dl">'</span><span class="s1">path/to/file.css</span><span class="dl">'</span><span class="p">,</span>

    <span class="cm">/* module.exports = {
      customMedia: { '--small-viewport': '(max-width: 30em)' },
      customProperties: { '--color': 'red' },
      customSelectors: { ':--heading': 'h1, h2, h3' },
      environmentVariables: { '--branding-padding': '20px' }
    } */</span>
    <span class="dl">'</span><span class="s1">and/then/this.js</span><span class="dl">'</span><span class="p">,</span>

    <span class="cm">/* {
      "custom-media": { "--small-viewport": "(max-width: 30em)" }
      "custom-properties": { "--color": "red" },
      "custom-selectors": { ":--heading": "h1, h2, h3" },
      "environment-variables": { "--branding-padding": "20px" }
    } */</span>
    <span class="dl">'</span><span class="s1">and/then/that.json</span><span class="dl">'</span><span class="p">,</span>

    <span class="nx">cachedObject</span><span class="p">,</span>
    <span class="nx">variables</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="dl">'</span><span class="s1">customProperties</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">variables</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something special with customProperties</span>
      <span class="p">}</span>

      <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">cachedObject</span><span class="p">,</span> <span class="nx">variables</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="debug">debug</h3>

<p>The <code class="language-plaintext highlighter-rouge">debug</code> option enables debugging messages to stdout which should be useful to help you debug which features have been enabled/disabled and why.</p>

<h3 id="enableclientsidepolyfills">enableClientSidePolyfills</h3>

<p>The <code class="language-plaintext highlighter-rouge">enableClientSidePolyfills</code> enables any feature that would need an extra browser library to be loaded into the page for it to work. Defaults to <code class="language-plaintext highlighter-rouge">true</code>.</p>

<p>Note that manually enabling/disabling features via the “feature” option overrides this flag.</p>

<h2 id="stability-and-portability">Stability and Portability</h2>

<p><a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> will often include very modern CSS features that are not fully ready yet.
This gives users the chance to play around with these features and provide feedback.</p>

<p>If the specification changes or is abandoned a new major version of the plugin will be released.
This will require you to update your source code so that everything works as expected.</p>

<p>To have more stability between updates of <a href="https://github.com/csstools/postcss-plugins/tree/main/plugin-packs/postcss-preset-env">PostCSS Preset Env</a> you may set <code class="language-plaintext highlighter-rouge">stage: 3</code> and/or <code class="language-plaintext highlighter-rouge">minimumVendorImplementations: 2</code>.</p>

<p>A side effect of staying close to the standard is that you can more easily migrate your project to other tooling all together.</p>

<h2 id="plugins-list">Plugins list</h2>

<h3 id="plugins-that-need-client-library">Plugins that need client library</h3>

<p>This is the current list of features that need a client library with a link
to the polyfill’s library.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blank-pseudo-class</code>: <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-blank-pseudo">Plugin</a> / <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-blank-pseudo/README-BROWSER.md">Polyfill</a></li>
  <li><code class="language-plaintext highlighter-rouge">focus-visible-pseudo-class</code>: <a href="https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-focus-visible">Plugin</a> / <a href="https://github.com/WICG/focus-visible">Polyfill</a></li>
  <li><code class="language-plaintext highlighter-rouge">focus-within-pseudo-class</code>: <a href="https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-focus-within">Plugin</a> / <a href="https://github.com/jsxtools/focus-within">Library</a> / <a href="https://github.com/jsxtools/focus-within/blob/master/README-BROWSER.md">Polyfill</a></li>
  <li><code class="language-plaintext highlighter-rouge">has-pseudo-class</code>: <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-has-pseudo">Plugin</a> / <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-has-pseudo/README-BROWSER.md">Polyfill</a></li>
  <li><code class="language-plaintext highlighter-rouge">prefers-color-scheme-query</code>: <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-prefers-color-scheme">Plugin</a> / <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-prefers-color-scheme/README-BROWSER.md">Polyfill</a></li>
</ul>

<p>If you want to disable these types of features, please check the <a href="#enableclientsidepolyfills"><code class="language-plaintext highlighter-rouge">enableClientSidePolyfills</code> option</a>.</p>

<h3 id="plugins-not-affected-by-browser-support">Plugins not affected by Browser Support</h3>

<p>Given they have no support they will always be enabled if they match by Stage:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blank-pseudo-class</code>: <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-blank-pseudo">Plugin</a> / <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-blank-pseudo/README-BROWSER.md">Polyfill</a></li>
  <li><code class="language-plaintext highlighter-rouge">custom-media-queries</code>: <a href="https://github.com/postcss/postcss-custom-media">Plugin</a></li>
  <li><code class="language-plaintext highlighter-rouge">has-pseudo-class</code>: <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-has-pseudo">Plugin</a> / <a href="https://github.com/csstools/postcss-plugins/blob/main/plugins/css-has-pseudo/README-BROWSER.md">Polyfill</a></li>
  <li><code class="language-plaintext highlighter-rouge">image-set-function</code>: <a href="https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-image-set-function">Plugin</a></li>
  <li><code class="language-plaintext highlighter-rouge">media-query-ranges</code>: <a href="https://github.com/postcss/postcss-media-minmax">Plugin</a></li>
  <li><code class="language-plaintext highlighter-rouge">nesting-rules</code>: <a href="https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-nesting">Plugin</a></li>
</ul>



      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
