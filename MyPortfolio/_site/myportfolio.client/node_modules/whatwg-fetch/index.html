<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>window.fetch polyfill | portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="window.fetch polyfill" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/whatwg-fetch/" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/whatwg-fetch/" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="window.fetch polyfill" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"window.fetch polyfill","url":"http://localhost:4000/myportfolio.client/node_modules/whatwg-fetch/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=00c08f3bd19ad2390c706d50e4f8968f8b47944c">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <h1 id="windowfetch-polyfill">window.fetch polyfill</h1>

<p><a href="https://securityscorecards.dev/viewer/?uri=github.com/JakeChampion/fetch"><img src="https://api.securityscorecards.dev/projects/github.com/JakeChampion/fetch/badge" alt="OpenSSF Scorecard" /></a></p>

<p>The <code class="language-plaintext highlighter-rouge">fetch()</code> function is a Promise-based mechanism for programmatically making
web requests in the browser. This project is a polyfill that implements a subset
of the standard <a href="https://fetch.spec.whatwg.org">Fetch specification</a>, enough to make <code class="language-plaintext highlighter-rouge">fetch</code> a viable
replacement for most uses of XMLHttpRequest in traditional web applications.</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="#read-this-first">Read this first</a></li>
  <li><a href="#installation">Installation</a></li>
  <li><a href="#usage">Usage</a>
    <ul>
      <li><a href="#importing">Importing</a></li>
      <li><a href="#html">HTML</a></li>
      <li><a href="#json">JSON</a></li>
      <li><a href="#response-metadata">Response metadata</a></li>
      <li><a href="#post-form">Post form</a></li>
      <li><a href="#post-json">Post JSON</a></li>
      <li><a href="#file-upload">File upload</a></li>
      <li><a href="#caveats">Caveats</a>
        <ul>
          <li><a href="#handling-http-error-statuses">Handling HTTP error statuses</a></li>
          <li><a href="#sending-cookies">Sending cookies</a></li>
          <li><a href="#receiving-cookies">Receiving cookies</a></li>
          <li><a href="#redirect-modes">Redirect modes</a></li>
          <li><a href="#obtaining-the-response-url">Obtaining the Response URL</a></li>
          <li><a href="#aborting-requests">Aborting requests</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#browser-support">Browser Support</a></li>
</ul>

<h2 id="read-this-first">Read this first</h2>

<ul>
  <li>
    <p>If you believe you found a bug with how <code class="language-plaintext highlighter-rouge">fetch</code> behaves in your browser,
please <strong>don’t open an issue in this repository</strong> unless you are testing in
an old version of a browser that doesn’t support <code class="language-plaintext highlighter-rouge">window.fetch</code> natively.
Make sure you read this <em>entire</em> readme, especially the <a href="#caveats">Caveats</a>
section, as there’s probably a known work-around for an issue you’ve found.
This project is a <em>polyfill</em>, and since all modern browsers now implement the
<code class="language-plaintext highlighter-rouge">fetch</code> function natively, <strong>no code from this project</strong> actually takes any
effect there. See <a href="#browser-support">Browser support</a> for detailed
information.</p>
  </li>
  <li>
    <p>If you have trouble <strong>making a request to another domain</strong> (a different
subdomain or port number also constitutes another domain), please familiarize
yourself with all the intricacies and limitations of <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS" title="Cross-origin resource sharing">CORS</a> requests.
Because CORS requires participation of the server by implementing specific
HTTP response headers, it is often nontrivial to set up or debug. CORS is
exclusively handled by the browser’s internal mechanisms which this polyfill
cannot influence.</p>
  </li>
  <li>
    <p>This project <strong>doesn’t work under Node.js environments</strong>. It’s meant for web
browsers only. You should ensure that your application doesn’t try to package
and run this on the server.</p>
  </li>
  <li>
    <p>If you have an idea for a new feature of <code class="language-plaintext highlighter-rouge">fetch</code>, <strong>submit your feature
requests</strong> to the <a href="https://github.com/whatwg/fetch/issues">specification’s repository</a>.
We only add features and APIs that are part of the <a href="https://fetch.spec.whatwg.org">Fetch specification</a>.</p>
  </li>
</ul>

<h2 id="installation">Installation</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install whatwg-fetch --save
</code></pre></div></div>

<p>You will also need a Promise polyfill for <a href="https://caniuse.com/promises">older browsers</a>.
We recommend <a href="https://github.com/taylorhakes/promise-polyfill">taylorhakes/promise-polyfill</a>
for its small size and Promises/A+ compatibility.</p>

<h2 id="usage">Usage</h2>

<h3 id="importing">Importing</h3>

<p>Importing will automatically polyfill <code class="language-plaintext highlighter-rouge">window.fetch</code> and related APIs:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">'</span><span class="s1">whatwg-fetch</span><span class="dl">'</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">fetch</span><span class="p">(...)</span>
</code></pre></div></div>

<p>If for some reason you need to access the polyfill implementation, it is
available via exports:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">fetch</span> <span class="k">as</span> <span class="nx">fetchPolyfill</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">whatwg-fetch</span><span class="dl">'</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">fetch</span><span class="p">(...)</span>   <span class="c1">// use native browser version</span>
<span class="nx">fetchPolyfill</span><span class="p">(...)</span>  <span class="c1">// use polyfill implementation</span>
</code></pre></div></div>

<p>This approach can be used to, for example, use <a href="#aborting-requests">abort
functionality</a> in browsers that implement a native but
outdated version of fetch that doesn’t support aborting.</p>

<p>For use with webpack, add this package in the <code class="language-plaintext highlighter-rouge">entry</code> configuration option
before your application entry point:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">entry</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">whatwg-fetch</span><span class="dl">'</span><span class="p">,</span> <span class="p">...]</span>
</code></pre></div></div>

<h3 id="html">HTML</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/users.html</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">()</span>
  <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">body</span>
  <span class="p">})</span>
</code></pre></div></div>

<h3 id="json">JSON</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/users.json</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
  <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">parsed json</span><span class="dl">'</span><span class="p">,</span> <span class="nx">json</span><span class="p">)</span>
  <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">ex</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">parsing failed</span><span class="dl">'</span><span class="p">,</span> <span class="nx">ex</span><span class="p">)</span>
  <span class="p">})</span>
</code></pre></div></div>

<h3 id="response-metadata">Response metadata</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/users.json</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">))</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">Date</span><span class="dl">'</span><span class="p">))</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="post-form">Post form</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">form</span><span class="dl">'</span><span class="p">)</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/users</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">(</span><span class="nx">form</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="post-json">Post JSON</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/users</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Hubot</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">login</span><span class="p">:</span> <span class="dl">'</span><span class="s1">hubot</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">})</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="file-upload">File upload</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">input[type="file"]</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">()</span>
<span class="nx">data</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">'</span><span class="s1">file</span><span class="dl">'</span><span class="p">,</span> <span class="nx">input</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nx">data</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">hubot</span><span class="dl">'</span><span class="p">)</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/avatars</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">data</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="caveats">Caveats</h3>

<ul>
  <li>
    <p>The Promise returned from <code class="language-plaintext highlighter-rouge">fetch()</code> <strong>won’t reject on HTTP error status</strong>
even if the response is an HTTP 404 or 500. Instead, it will resolve normally,
and it will only reject on network failure or if anything prevented the
request from completing.</p>
  </li>
  <li>
    <p>For maximum browser compatibility when it comes to sending &amp; receiving
cookies, always supply the <code class="language-plaintext highlighter-rouge">credentials: 'same-origin'</code> option instead of
relying on the default. See <a href="#sending-cookies">Sending cookies</a>.</p>
  </li>
  <li>
    <p>Not all Fetch standard options are supported in this polyfill. For instance,
<a href="#redirect-modes"><code class="language-plaintext highlighter-rouge">redirect</code></a> and
<code class="language-plaintext highlighter-rouge">cache</code> directives are ignored.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">keepalive</code> is not supported because it would involve making a synchronous XHR, which is something this project is not willing to do. See <a href="https://github.com/github/fetch/issues/700#issuecomment-484188326">issue #700</a> for more information.</p>
  </li>
</ul>

<h4 id="handling-http-error-statuses">Handling HTTP error statuses</h4>

<p>To have <code class="language-plaintext highlighter-rouge">fetch</code> Promise reject on HTTP error statuses, i.e. on any non-2xx
status, define a custom response handler:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">checkStatus</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&gt;=</span> <span class="mi">200</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">response</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">error</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="p">)</span>
    <span class="nx">error</span><span class="p">.</span><span class="nx">response</span> <span class="o">=</span> <span class="nx">response</span>
    <span class="k">throw</span> <span class="nx">error</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">parseJSON</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
<span class="p">}</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/users</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">checkStatus</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">parseJSON</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">request succeeded with JSON response</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">request failed</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
  <span class="p">})</span>
</code></pre></div></div>

<h4 id="sending-cookies">Sending cookies</h4>

<p>For <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS" title="Cross-origin resource sharing">CORS</a> requests, use <code class="language-plaintext highlighter-rouge">credentials: 'include'</code> to allow sending credentials
to other domains:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://example.com:1234/users</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">credentials</span><span class="p">:</span> <span class="dl">'</span><span class="s1">include</span><span class="dl">'</span>
<span class="p">})</span>
</code></pre></div></div>

<p>The default value for <code class="language-plaintext highlighter-rouge">credentials</code> is “same-origin”.</p>

<p>The default for <code class="language-plaintext highlighter-rouge">credentials</code> wasn’t always the same, though. The following
versions of browsers implemented an older version of the fetch specification
where the default was “omit”:</p>

<ul>
  <li>Firefox 39-60</li>
  <li>Chrome 42-67</li>
  <li>Safari 10.1-11.1.2</li>
</ul>

<p>If you target these browsers, it’s advisable to always specify <code class="language-plaintext highlighter-rouge">credentials:
'same-origin'</code> explicitly with all fetch requests instead of relying on the
default:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/users</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">credentials</span><span class="p">:</span> <span class="dl">'</span><span class="s1">same-origin</span><span class="dl">'</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Note: due to <a href="https://github.com/github/fetch/pull/56#issuecomment-68835992">limitations of
XMLHttpRequest</a>,
using <code class="language-plaintext highlighter-rouge">credentials: 'omit'</code> is not respected for same domains in browsers where
this polyfill is active. Cookies will always be sent to same domains in older
browsers.</p>

<h4 id="receiving-cookies">Receiving cookies</h4>

<p>As with XMLHttpRequest, the <code class="language-plaintext highlighter-rouge">Set-Cookie</code> response header returned from the
server is a <a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name">forbidden header name</a> and therefore can’t be programmatically
read with <code class="language-plaintext highlighter-rouge">response.headers.get()</code>. Instead, it’s the browser’s responsibility
to handle new cookies being set (if applicable to the current URL). Unless they
are HTTP-only, new cookies will be available through <code class="language-plaintext highlighter-rouge">document.cookie</code>.</p>

<h4 id="redirect-modes">Redirect modes</h4>

<p>The Fetch specification defines these values for <a href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode">the <code class="language-plaintext highlighter-rouge">redirect</code>
option</a>: “follow”
(the default), “error”, and “manual”.</p>

<p>Due to limitations of XMLHttpRequest, only the “follow” mode is available in
browsers where this polyfill is active.</p>

<h4 id="obtaining-the-response-url">Obtaining the Response URL</h4>

<p>Due to limitations of XMLHttpRequest, the <code class="language-plaintext highlighter-rouge">response.url</code> value might not be
reliable after HTTP redirects on older browsers.</p>

<p>The solution is to configure the server to set the response HTTP header
<code class="language-plaintext highlighter-rouge">X-Request-URL</code> to the current URL after any redirect that might have happened.
It should be safe to set it unconditionally.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Ruby on Rails controller example</span>
<span class="n">response</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="s1">'X-Request-URL'</span><span class="p">]</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">url</span>
</code></pre></div></div>

<p>This server workaround is necessary if you need reliable <code class="language-plaintext highlighter-rouge">response.url</code> in
Firefox &lt; 32, Chrome &lt; 37, Safari, or IE.</p>

<h4 id="aborting-requests">Aborting requests</h4>

<p>This polyfill supports
<a href="https://developers.google.com/web/updates/2017/09/abortable-fetch">the abortable fetch API</a>.
However, aborting a fetch requires use of two additional DOM APIs:
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController">AbortController</a> and
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal">AbortSignal</a>.
Typically, browsers that do not support fetch will also not support
AbortController or AbortSignal. Consequently, you will need to include
<a href="https://www.npmjs.com/package/yet-another-abortcontroller-polyfill">an additional polyfill</a>
for these APIs to abort fetches:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">'</span><span class="s1">yet-another-abortcontroller-polyfill</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">fetch</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">whatwg-fetch</span><span class="dl">'</span>

<span class="c1">// use native browser implementation if it supports aborting</span>
<span class="kd">const</span> <span class="nx">abortableFetch</span> <span class="o">=</span> <span class="p">(</span><span class="dl">'</span><span class="s1">signal</span><span class="dl">'</span> <span class="k">in</span> <span class="k">new</span> <span class="nx">Request</span><span class="p">(</span><span class="dl">''</span><span class="p">))</span> <span class="p">?</span> <span class="nb">window</span><span class="p">.</span><span class="nx">fetch</span> <span class="p">:</span> <span class="nx">fetch</span>

<span class="kd">const</span> <span class="nx">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AbortController</span><span class="p">()</span>

<span class="nx">abortableFetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/avatars</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">signal</span><span class="p">:</span> <span class="nx">controller</span><span class="p">.</span><span class="nx">signal</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">ex</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ex</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">AbortError</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">request aborted</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// some time later...</span>
<span class="nx">controller</span><span class="p">.</span><span class="nx">abort</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="browser-support">Browser Support</h2>

<ul>
  <li>Chrome</li>
  <li>Firefox</li>
  <li>Safari 6.1+</li>
  <li>Internet Explorer 10+</li>
</ul>

<p>Note: modern browsers such as Chrome, Firefox, Microsoft Edge, and Safari contain native
implementations of <code class="language-plaintext highlighter-rouge">window.fetch</code>, therefore the code from this polyfill doesn’t
have any effect on those browsers. If you believe you’ve encountered an error
with how <code class="language-plaintext highlighter-rouge">window.fetch</code> is implemented in any of these browsers, you should file
an issue with that browser vendor instead of this project.</p>



      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
