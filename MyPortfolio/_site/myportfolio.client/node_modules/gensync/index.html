<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>gensync | portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="gensync" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/gensync/" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/gensync/" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="gensync" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"gensync","url":"http://localhost:4000/myportfolio.client/node_modules/gensync/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=059dd2210d8f0fb8d42af0cbb5c1b29e59b98886">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <h1 id="gensync">gensync</h1>

<p>This module allows for developers to write common code that can share
implementation details, hiding whether an underlying request happens
synchronously or asynchronously. This is in contrast with many current Node
APIs which explicitly implement the same API twice, once with calls to
synchronous functions, and once with asynchronous functions.</p>

<p>Take for example <code class="language-plaintext highlighter-rouge">fs.readFile</code> and <code class="language-plaintext highlighter-rouge">fs.readFileSync</code>, if you’re writing an API
that loads a file and then performs a synchronous operation on the data, it
can be frustrating to maintain two parallel functions.</p>

<h2 id="example">Example</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">fs</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">gensync</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">gensync</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">readFile</span> <span class="o">=</span> <span class="nx">gensync</span><span class="p">({</span>
  <span class="na">sync</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">,</span>
  <span class="na">errback</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">myOperation</span> <span class="o">=</span> <span class="nx">gensync</span><span class="p">(</span><span class="kd">function</span><span class="o">*</span> <span class="p">(</span><span class="nx">filename</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">code</span> <span class="o">=</span> <span class="k">yield</span><span class="o">*</span> <span class="nx">readFile</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span><span class="p">);</span>

  <span class="k">return</span> <span class="dl">"</span><span class="s2">// some custom prefix</span><span class="se">\n</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">code</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// Load and add the prefix synchronously:</span>
<span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">myOperation</span><span class="p">.</span><span class="nx">sync</span><span class="p">(</span><span class="dl">"</span><span class="s2">./some-file.js</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">// Load and add the prefix asynchronously with promises:</span>
<span class="nx">myOperation</span><span class="p">.</span><span class="k">async</span><span class="p">(</span><span class="dl">"</span><span class="s2">./some-file.js</span><span class="dl">"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="p">{</span>

<span class="p">});</span>

<span class="c1">// Load and add the prefix asynchronously with promises:</span>
<span class="nx">myOperation</span><span class="p">.</span><span class="nx">errback</span><span class="p">(</span><span class="dl">"</span><span class="s2">./some-file.js</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre></div></div>

<p>This could even be exposed as your official API by doing</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Using the common 'Sync' suffix for sync functions, and 'Async' suffix for</span>
<span class="c1">// promise-returning versions.</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">myOperationSync</span> <span class="o">=</span> <span class="nx">myOperation</span><span class="p">.</span><span class="nx">sync</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">myOperationAsync</span> <span class="o">=</span> <span class="nx">myOperation</span><span class="p">.</span><span class="k">async</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">myOperation</span> <span class="o">=</span> <span class="nx">myOperation</span><span class="p">.</span><span class="nx">errback</span><span class="p">;</span>
</code></pre></div></div>
<p>or potentially expose one of the async versions as the default, with a
<code class="language-plaintext highlighter-rouge">.sync</code> property on the function to expose the synchronous version.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">myOperation</span><span class="p">.</span><span class="nx">errback</span><span class="p">;</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">sync</span> <span class="o">=</span> <span class="nx">myOperation</span><span class="p">.</span><span class="nx">sync</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="api">API</h2>

<h3 id="gensyncgeneratorfnoroptions">gensync(generatorFnOrOptions)</h3>

<p>Returns a function that can be “await”-ed in another <code class="language-plaintext highlighter-rouge">gensync</code> generator
function, or executed via</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">.sync(...args)</code> - Returns the computed value, or throws.</li>
  <li><code class="language-plaintext highlighter-rouge">.async(...args)</code> - Returns a promise for the computed value.</li>
  <li><code class="language-plaintext highlighter-rouge">.errback(...args, (err, result) =&gt; {})</code> - Calls the callback with the computed value, or error.</li>
</ul>

<h4 id="passed-a-generator">Passed a generator</h4>

<p>Wraps the generator to populate the <code class="language-plaintext highlighter-rouge">.sync</code>/<code class="language-plaintext highlighter-rouge">.async</code>/<code class="language-plaintext highlighter-rouge">.errback</code> helpers above to
allow for evaluation of the generator for the final value.</p>

<h5 id="example-1">Example</h5>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">readFile</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">readFileAndMore</span> <span class="o">=</span> <span class="nx">gensync</span><span class="p">(</span><span class="kd">function</span><span class="o">*</span> <span class="p">(){</span>
  <span class="kd">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="k">yield</span><span class="o">*</span> <span class="nx">readFile</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">42</span> <span class="o">+</span> <span class="nx">val</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// In general cases</span>
<span class="kd">const</span> <span class="nx">code</span> <span class="o">=</span> <span class="nx">readFileAndMore</span><span class="p">.</span><span class="nx">sync</span><span class="p">(</span><span class="dl">"</span><span class="s2">./file.js</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">readFileAndMore</span><span class="p">.</span><span class="k">async</span><span class="p">(</span><span class="dl">"</span><span class="s2">./file.js</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">code</span> <span class="o">=&gt;</span> <span class="p">{})</span>
<span class="nx">readFileAndMore</span><span class="p">.</span><span class="nx">errback</span><span class="p">(</span><span class="dl">"</span><span class="s2">./file.js</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">code</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{});</span>

<span class="c1">// In a generator being called indirectly with .sync/.async/.errback</span>
<span class="kd">const</span> <span class="nx">code</span> <span class="o">=</span> <span class="k">yield</span><span class="o">*</span> <span class="nx">readFileAndMore</span><span class="p">(</span><span class="dl">"</span><span class="s2">./file.js</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="passed-an-options-object">Passed an options object</h4>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">opts.sync</code></p>

    <p>Example: <code class="language-plaintext highlighter-rouge">(...args) =&gt; 4</code></p>

    <p>A function that will be called when <code class="language-plaintext highlighter-rouge">.sync()</code> is called on the <code class="language-plaintext highlighter-rouge">gensync()</code>
result, or when the result is passed to <code class="language-plaintext highlighter-rouge">yield*</code> in another generator that
is being run synchronously.</p>

    <p>Also called for <code class="language-plaintext highlighter-rouge">.async()</code> calls if no async handlers are provided.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">opts.async</code></p>

    <p>Example: <code class="language-plaintext highlighter-rouge">async (...args) =&gt; 4</code></p>

    <p>A function that will be called when <code class="language-plaintext highlighter-rouge">.async()</code> or <code class="language-plaintext highlighter-rouge">.errback()</code> is called on
the <code class="language-plaintext highlighter-rouge">gensync()</code> result, or when the result is passed to <code class="language-plaintext highlighter-rouge">yield*</code> in another
generator that is being run asynchronously.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">opts.errback</code></p>

    <p>Example: <code class="language-plaintext highlighter-rouge">(...args, cb) =&gt; cb(null, 4)</code></p>

    <p>A function that will be called when <code class="language-plaintext highlighter-rouge">.async()</code> or <code class="language-plaintext highlighter-rouge">.errback()</code> is called on
the <code class="language-plaintext highlighter-rouge">gensync()</code> result, or when the result is passed to <code class="language-plaintext highlighter-rouge">yield*</code> in another
generator that is being run asynchronously.</p>

    <p>This option allows for simpler compatibility with many existing Node APIs,
and also avoids introducing the extra even loop turns that promises introduce
to access the result value.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">opts.name</code></p>

    <p>Example: <code class="language-plaintext highlighter-rouge">"readFile"</code></p>

    <p>A string name to apply to the returned function. If no value is provided,
the name of <code class="language-plaintext highlighter-rouge">errback</code>/<code class="language-plaintext highlighter-rouge">async</code>/<code class="language-plaintext highlighter-rouge">sync</code> functions will be used, with any
<code class="language-plaintext highlighter-rouge">Sync</code> or <code class="language-plaintext highlighter-rouge">Async</code> suffix stripped off. If the callback is simply named
with ES6 inference (same name as the options property), the name is ignored.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">opts.arity</code></p>

    <p>Example: <code class="language-plaintext highlighter-rouge">4</code></p>

    <p>A number for the length to set on the returned function. If no value
is provided, the length will be carried over from the <code class="language-plaintext highlighter-rouge">sync</code> function’s
<code class="language-plaintext highlighter-rouge">length</code> value.</p>
  </li>
</ul>

<h5 id="example-2">Example</h5>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">readFile</span> <span class="o">=</span> <span class="nx">gensync</span><span class="p">({</span>
  <span class="na">sync</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">,</span>
  <span class="na">errback</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">code</span> <span class="o">=</span> <span class="nx">readFile</span><span class="p">.</span><span class="nx">sync</span><span class="p">(</span><span class="dl">"</span><span class="s2">./file.js</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">readFile</span><span class="p">.</span><span class="k">async</span><span class="p">(</span><span class="dl">"</span><span class="s2">./file.js</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">code</span> <span class="o">=&gt;</span> <span class="p">{})</span>
<span class="nx">readFile</span><span class="p">.</span><span class="nx">errback</span><span class="p">(</span><span class="dl">"</span><span class="s2">./file.js</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">utf8</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">code</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{});</span>
</code></pre></div></div>

<h3 id="gensyncalliterable">gensync.all(iterable)</h3>

<p><code class="language-plaintext highlighter-rouge">Promise.all</code>-like combinator that works with an iterable of generator objects
that could be passed to <code class="language-plaintext highlighter-rouge">yield*</code> within a gensync generator.</p>

<h4 id="example-3">Example</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">loadFiles</span> <span class="o">=</span> <span class="nx">gensync</span><span class="p">(</span><span class="kd">function</span><span class="o">*</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">yield</span><span class="o">*</span> <span class="nx">gensync</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>
    <span class="nx">readFile</span><span class="p">(</span><span class="dl">"</span><span class="s2">./one.js</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">readFile</span><span class="p">(</span><span class="dl">"</span><span class="s2">./two.js</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">readFile</span><span class="p">(</span><span class="dl">"</span><span class="s2">./three.js</span><span class="dl">"</span><span class="p">),</span>
  <span class="p">]);</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="gensyncraceiterable">gensync.race(iterable)</h3>

<p><code class="language-plaintext highlighter-rouge">Promise.race</code>-like combinator that works with an iterable of generator objects
that could be passed to <code class="language-plaintext highlighter-rouge">yield*</code> within a gensync generator.</p>

<h4 id="example-4">Example</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">loadFiles</span> <span class="o">=</span> <span class="nx">gensync</span><span class="p">(</span><span class="kd">function</span><span class="o">*</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">yield</span><span class="o">*</span> <span class="nx">gensync</span><span class="p">.</span><span class="nx">race</span><span class="p">([</span>
    <span class="nx">readFile</span><span class="p">(</span><span class="dl">"</span><span class="s2">./one.js</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">readFile</span><span class="p">(</span><span class="dl">"</span><span class="s2">./two.js</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">readFile</span><span class="p">(</span><span class="dl">"</span><span class="s2">./three.js</span><span class="dl">"</span><span class="p">),</span>
  <span class="p">]);</span>
<span class="p">});</span>
</code></pre></div></div>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
