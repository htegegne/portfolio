<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="portfolio" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/webpack-dev-middleware/" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/webpack-dev-middleware/" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="portfolio" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"portfolio","url":"http://localhost:4000/myportfolio.client/node_modules/webpack-dev-middleware/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=059dd2210d8f0fb8d42af0cbb5c1b29e59b98886">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <div align="center">
  <a href="https://github.com/webpack/webpack">
    <img width="200" height="200" src="https://webpack.js.org/assets/icon-square-big.svg" />
  </a>
</div>

<p><a href="https://npmjs.com/package/webpack-dev-middleware"><img src="https://img.shields.io/npm/v/webpack-dev-middleware.svg" alt="npm" /></a>
<a href="https://nodejs.org"><img src="https://img.shields.io/node/v/webpack-dev-middleware.svg" alt="node" /></a>
<a href="https://david-dm.org/webpack/webpack-dev-middleware"><img src="https://david-dm.org/webpack/webpack-dev-middleware.svg" alt="deps" /></a>
<a href="https://github.com/webpack/webpack-dev-middleware/actions"><img src="https://github.com/webpack/webpack-dev-middleware/workflows/webpack-dev-middleware/badge.svg" alt="tests" /></a>
<a href="https://codecov.io/gh/webpack/webpack-dev-middleware"><img src="https://codecov.io/gh/webpack/webpack-dev-middleware/branch/master/graph/badge.svg" alt="coverage" /></a>
<a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat" /></a>
<a href="https://packagephobia.com/result?p=webpack-dev-middleware"><img src="https://packagephobia.com/badge?p=webpack-dev-middleware" alt="size" /></a></p>

<h1 id="webpack-dev-middleware">webpack-dev-middleware</h1>

<p>An express-style development middleware for use with <a href="https://webpack.js.org">webpack</a>
bundles and allows for serving of the files emitted from webpack.
This should be used for <strong>development only</strong>.</p>

<p>Some of the benefits of using this middleware include:</p>

<ul>
  <li>No files are written to disk, rather it handles files in memory</li>
  <li>If files changed in watch mode, the middleware delays requests until compiling
has completed.</li>
  <li>Supports hot module reload (HMR).</li>
</ul>

<h2 id="getting-started">Getting Started</h2>

<p>First thing’s first, install the module:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">npm install webpack-dev-middleware --save-dev
</span></code></pre></div></div>

<p><em>Note: We do not recommend installing this module globally.</em></p>

<h2 id="usage">Usage</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">middleware</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack-dev-middleware</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">({</span>
  <span class="c1">// webpack options</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
  <span class="nx">middleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span>
    <span class="c1">// webpack-dev-middleware options</span>
  <span class="p">})</span>
<span class="p">);</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Example app listening on port 3000!</span><span class="dl">"</span><span class="p">));</span>
</code></pre></div></div>

<p>See <a href="#other-servers">below</a> for an example of use with fastify.</p>

<h2 id="options">Options</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Name</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: center">Default</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><strong><a href="#methods"><code class="language-plaintext highlighter-rouge">methods</code></a></strong></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Array</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">[ 'GET', 'HEAD' ]</code></td>
      <td style="text-align: left">Allows to pass the list of HTTP request methods accepted by the middleware</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><a href="#headers"><code class="language-plaintext highlighter-rouge">headers</code></a></strong></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Array\|Object\|Function</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">undefined</code></td>
      <td style="text-align: left">Allows to pass custom HTTP headers on each request.</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><a href="#index"><code class="language-plaintext highlighter-rouge">index</code></a></strong></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Boolean\|String</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">index.html</code></td>
      <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">false</code> (but not <code class="language-plaintext highlighter-rouge">undefined</code>), the server will not respond to requests to the root URL.</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><a href="#mimetypes"><code class="language-plaintext highlighter-rouge">mimeTypes</code></a></strong></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Object</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">undefined</code></td>
      <td style="text-align: left">Allows to register custom mime types or extension mappings.</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><a href="#publicpath"><code class="language-plaintext highlighter-rouge">publicPath</code></a></strong></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">String</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">output.publicPath</code> (from a configuration)</td>
      <td style="text-align: left">The public path that the middleware is bound to.</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><a href="#stats"><code class="language-plaintext highlighter-rouge">stats</code></a></strong></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Boolean\|String\|Object</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">stats</code> (from a configuration)</td>
      <td style="text-align: left">Stats options object or preset name.</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><a href="#serversiderender"><code class="language-plaintext highlighter-rouge">serverSideRender</code></a></strong></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Boolean</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">undefined</code></td>
      <td style="text-align: left">Instructs the module to enable or disable the server-side rendering mode.</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><a href="#writetodisk"><code class="language-plaintext highlighter-rouge">writeToDisk</code></a></strong></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Boolean\|Function</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">false</code></td>
      <td style="text-align: left">Instructs the module to write files to the configured location on disk as specified in your <code class="language-plaintext highlighter-rouge">webpack</code> configuration.</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><a href="#outputfilesystem"><code class="language-plaintext highlighter-rouge">outputFileSystem</code></a></strong></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Object</code></td>
      <td style="text-align: center"><a href="https://github.com/streamich/memfs"><code class="language-plaintext highlighter-rouge">memfs</code></a></td>
      <td style="text-align: left">Set the default file system which will be used by webpack as primary destination of generated files.</td>
    </tr>
  </tbody>
</table>

<p>The middleware accepts an <code class="language-plaintext highlighter-rouge">options</code> Object. The following is a property reference for the Object.</p>

<h3 id="methods">methods</h3>

<p>Type: <code class="language-plaintext highlighter-rouge">Array</code><br />
Default: <code class="language-plaintext highlighter-rouge">[ 'GET', 'HEAD' ]</code></p>

<p>This property allows a user to pass the list of HTTP request methods accepted by the middleware**.</p>

<h3 id="headers">headers</h3>

<p>Type: <code class="language-plaintext highlighter-rouge">Array|Object|Function</code>
Default: <code class="language-plaintext highlighter-rouge">undefined</code></p>

<p>This property allows a user to pass custom HTTP headers on each request.
eg. <code class="language-plaintext highlighter-rouge">{ "X-Custom-Header": "yes" }</code></p>

<p>or</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">webpackDevMiddleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">Last-Modified</span><span class="dl">"</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span>
    <span class="p">};</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<p>or</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">webpackDevMiddleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="dl">"</span><span class="s2">Last-Modified</span><span class="dl">"</span><span class="p">,</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">());</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<p>or</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">webpackDevMiddleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">X-custom-header</span><span class="dl">"</span>
      <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">foo</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Y-custom-header</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bar</span><span class="dl">"</span>
    <span class="p">}</span>
  <span class="p">]</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<p>or</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">webpackDevMiddleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">X-custom-header</span><span class="dl">"</span>
      <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">foo</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Y-custom-header</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bar</span><span class="dl">"</span>
    <span class="p">}</span>
  <span class="p">]</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="index">index</h3>

<p>Type: <code class="language-plaintext highlighter-rouge">Boolean|String</code>
Default: <code class="language-plaintext highlighter-rouge">index.html</code></p>

<p>If <code class="language-plaintext highlighter-rouge">false</code> (but not <code class="language-plaintext highlighter-rouge">undefined</code>), the server will not respond to requests to the root URL.</p>

<h3 id="mimetypes">mimeTypes</h3>

<p>Type: <code class="language-plaintext highlighter-rouge">Object</code><br />
Default: <code class="language-plaintext highlighter-rouge">undefined</code></p>

<p>This property allows a user to register custom mime types or extension mappings.
eg. <code class="language-plaintext highlighter-rouge">mimeTypes: { phtml: 'text/html' }</code>.</p>

<p>Please see the documentation for <a href="https://github.com/jshttp/mime-types"><code class="language-plaintext highlighter-rouge">mime-types</code></a> for more information.</p>

<h3 id="publicpath">publicPath</h3>

<p>Type: <code class="language-plaintext highlighter-rouge">String</code>
Default: <code class="language-plaintext highlighter-rouge">output.publicPath</code> (from a configuration)</p>

<p>The public path that the middleware is bound to.</p>

<p><em>Best Practice: use the same <code class="language-plaintext highlighter-rouge">publicPath</code> defined in your webpack config. For more information about <code class="language-plaintext highlighter-rouge">publicPath</code>, please see <a href="https://webpack.js.org/guides/public-path">the webpack documentation</a>.</em></p>

<h3 id="stats">stats</h3>

<p>Type: <code class="language-plaintext highlighter-rouge">Boolean|String|Object</code>
Default: <code class="language-plaintext highlighter-rouge">stats</code> (from a configuration)</p>

<p>Stats options object or preset name.</p>

<h3 id="serversiderender">serverSideRender</h3>

<p>Type: <code class="language-plaintext highlighter-rouge">Boolean</code><br />
Default: <code class="language-plaintext highlighter-rouge">undefined</code></p>

<p>Instructs the module to enable or disable the server-side rendering mode.
Please see <a href="#server-side-rendering">Server-Side Rendering</a> for more information.</p>

<h3 id="writetodisk">writeToDisk</h3>

<p>Type: <code class="language-plaintext highlighter-rouge">Boolean|Function</code><br />
Default: <code class="language-plaintext highlighter-rouge">false</code></p>

<p>If <code class="language-plaintext highlighter-rouge">true</code>, the option will instruct the module to write files to the configured location on disk as specified in your <code class="language-plaintext highlighter-rouge">webpack</code> config file.
<em>Setting <code class="language-plaintext highlighter-rouge">writeToDisk: true</code> won’t change the behavior of the <code class="language-plaintext highlighter-rouge">webpack-dev-middleware</code>, and bundle files accessed through the browser will still be served from memory.</em>
This option provides the same capabilities as the <a href="https://github.com/gajus/write-file-webpack-plugin/pulls"><code class="language-plaintext highlighter-rouge">WriteFilePlugin</code></a>.</p>

<p>This option also accepts a <code class="language-plaintext highlighter-rouge">Function</code> value, which can be used to filter which files are written to disk.
The function follows the same premise as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code class="language-plaintext highlighter-rouge">Array#filter</code></a> in which a return value of <code class="language-plaintext highlighter-rouge">false</code> <em>will not</em> write the file, and a return value of <code class="language-plaintext highlighter-rouge">true</code> <em>will</em> write the file to disk. eg.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">configuration</span> <span class="o">=</span> <span class="p">{</span>
  <span class="cm">/* Webpack configuration */</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">(</span><span class="nx">configuration</span><span class="p">);</span>

<span class="nx">middleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">writeToDisk</span><span class="p">:</span> <span class="p">(</span><span class="nx">filePath</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sr">/superman</span><span class="se">\.</span><span class="sr">css$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">filePath</span><span class="p">);</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="outputfilesystem">outputFileSystem</h3>

<p>Type: <code class="language-plaintext highlighter-rouge">Object</code><br />
Default: <a href="https://github.com/streamich/memfs">memfs</a></p>

<p>Set the default file system which will be used by webpack as primary destination of generated files.
This option isn’t affected by the <a href="#writeToDisk">writeToDisk</a> option.</p>

<p>You have to provide <code class="language-plaintext highlighter-rouge">.join()</code> and <code class="language-plaintext highlighter-rouge">mkdirp</code> method to the <code class="language-plaintext highlighter-rouge">outputFileSystem</code> instance manually for compatibility with <code class="language-plaintext highlighter-rouge">webpack@4</code>.</p>

<p>This can be done simply by using <code class="language-plaintext highlighter-rouge">path.join</code>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">path</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">myOutputFileSystem</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">my-fs</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">mkdirp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mkdirp</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">myOutputFileSystem</span><span class="p">.</span><span class="nx">join</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span> <span class="c1">// no need to bind</span>
<span class="nx">myOutputFileSystem</span><span class="p">.</span><span class="nx">mkdirp</span> <span class="o">=</span> <span class="nx">mkdirp</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">mkdirp</span><span class="p">);</span> <span class="c1">// no need to bind</span>

<span class="kd">const</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">({</span>
  <span class="cm">/* Webpack configuration */</span>
<span class="p">});</span>

<span class="nx">middleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span> <span class="na">outputFileSystem</span><span class="p">:</span> <span class="nx">myOutputFileSystem</span> <span class="p">});</span>
</code></pre></div></div>

<h2 id="api">API</h2>

<p><code class="language-plaintext highlighter-rouge">webpack-dev-middleware</code> also provides convenience methods that can be use to
interact with the middleware at runtime:</p>

<h3 id="closecallback"><code class="language-plaintext highlighter-rouge">close(callback)</code></h3>

<p>Instructs <code class="language-plaintext highlighter-rouge">webpack-dev-middleware</code> instance to stop watching for file changes.</p>

<h4 id="parameters">Parameters</h4>

<h5 id="callback"><code class="language-plaintext highlighter-rouge">callback</code></h5>

<p>Type: <code class="language-plaintext highlighter-rouge">Function</code>
Required: <code class="language-plaintext highlighter-rouge">No</code></p>

<p>A function executed once the middleware has stopped watching.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">({</span>
  <span class="cm">/* Webpack configuration */</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">middleware</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack-dev-middleware</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">instance</span> <span class="o">=</span> <span class="nx">middleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">instance</span><span class="p">);</span>

<span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Says `webpack` to stop watch changes</span>
  <span class="nx">instance</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="invalidatecallback"><code class="language-plaintext highlighter-rouge">invalidate(callback)</code></h3>

<p>Instructs <code class="language-plaintext highlighter-rouge">webpack-dev-middleware</code> instance to recompile the bundle, e.g. after a change to the configuration.</p>

<h4 id="parameters-1">Parameters</h4>

<h5 id="callback-1"><code class="language-plaintext highlighter-rouge">callback</code></h5>

<p>Type: <code class="language-plaintext highlighter-rouge">Function</code>
Required: <code class="language-plaintext highlighter-rouge">No</code></p>

<p>A function executed once the middleware has invalidated.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">({</span>
  <span class="cm">/* Webpack configuration */</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">middleware</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack-dev-middleware</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">instance</span> <span class="o">=</span> <span class="nx">middleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">instance</span><span class="p">);</span>

<span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// After a short delay the configuration is changed and a banner plugin is added to the config</span>
  <span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">BannerPlugin</span><span class="p">(</span><span class="dl">"</span><span class="s2">A new banner</span><span class="dl">"</span><span class="p">).</span><span class="nx">apply</span><span class="p">(</span><span class="nx">compiler</span><span class="p">);</span>

  <span class="c1">// Recompile the bundle with the banner plugin:</span>
  <span class="nx">instance</span><span class="p">.</span><span class="nx">invalidate</span><span class="p">();</span>
<span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="waituntilvalidcallback"><code class="language-plaintext highlighter-rouge">waitUntilValid(callback)</code></h3>

<p>Executes a callback function when the compiler bundle is valid, typically after
compilation.</p>

<h4 id="parameters-2">Parameters</h4>

<h5 id="callback-2"><code class="language-plaintext highlighter-rouge">callback</code></h5>

<p>Type: <code class="language-plaintext highlighter-rouge">Function</code>
Required: <code class="language-plaintext highlighter-rouge">No</code></p>

<p>A function executed when the bundle becomes valid.
If the bundle is valid at the time of calling, the callback is executed immediately.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">({</span>
  <span class="cm">/* Webpack configuration */</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">middleware</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack-dev-middleware</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">instance</span> <span class="o">=</span> <span class="nx">middleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">instance</span><span class="p">);</span>

<span class="nx">instance</span><span class="p">.</span><span class="nx">waitUntilValid</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Package is in a valid state</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="getfilenamefromurlurl"><code class="language-plaintext highlighter-rouge">getFilenameFromUrl(url)</code></h3>

<p>Get filename from URL.</p>

<h4 id="parameters-3">Parameters</h4>

<h5 id="url"><code class="language-plaintext highlighter-rouge">url</code></h5>

<p>Type: <code class="language-plaintext highlighter-rouge">String</code>
Required: <code class="language-plaintext highlighter-rouge">Yes</code></p>

<p>URL for the requested file.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">({</span>
  <span class="cm">/* Webpack configuration */</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">middleware</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack-dev-middleware</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">instance</span> <span class="o">=</span> <span class="nx">middleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">instance</span><span class="p">);</span>

<span class="nx">instance</span><span class="p">.</span><span class="nx">waitUntilValid</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">filename</span> <span class="o">=</span> <span class="nx">instance</span><span class="p">.</span><span class="nx">getFilenameFromUrl</span><span class="p">(</span><span class="dl">"</span><span class="s2">/bundle.js</span><span class="dl">"</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Filename is </span><span class="p">${</span><span class="nx">filename</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="known-issues">Known Issues</h2>

<h3 id="multiple-successive-builds">Multiple Successive Builds</h3>

<p>Watching will frequently cause multiple compilations
as the bundle changes during compilation. This is due in part to cross-platform
differences in file watchers, so that webpack doesn’t loose file changes when
watched files change rapidly. If you run into this situation, please make use of
the <a href="https://github.com/egoist/time-fix-plugin"><code class="language-plaintext highlighter-rouge">TimeFixPlugin</code></a>.</p>

<h2 id="server-side-rendering">Server-Side Rendering</h2>

<p><em>Note: this feature is experimental and may be removed or changed completely in the future.</em></p>

<p>In order to develop an app using server-side rendering, we need access to the
<a href="https://github.com/webpack/docs/wiki/node.js-api#stats"><code class="language-plaintext highlighter-rouge">stats</code></a>, which is
generated with each build.</p>

<p>With server-side rendering enabled, <code class="language-plaintext highlighter-rouge">webpack-dev-middleware</code> sets the <code class="language-plaintext highlighter-rouge">stats</code> to <code class="language-plaintext highlighter-rouge">res.locals.webpack.devMiddleware.context.stats</code>
and the filesystem to <code class="language-plaintext highlighter-rouge">res.locals.webpack.devMiddleware.context.outputFileSystem</code> before invoking the next middleware,
allowing a developer to render the page body and manage the response to clients.</p>

<p><em>Note: Requests for bundle files will still be handled by
<code class="language-plaintext highlighter-rouge">webpack-dev-middleware</code> and all requests will be pending until the build
process is finished with server-side rendering enabled.</em></p>

<p>Example Implementation:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">express</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">({</span>
  <span class="cm">/* Webpack configuration */</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">isObject</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">is-object</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">middleware</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack-dev-middleware</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">express</span><span class="p">();</span>

<span class="c1">// This function makes server rendering of asset references consistent with different webpack chunk/entry configurations</span>
<span class="kd">function</span> <span class="nx">normalizeAssets</span><span class="p">(</span><span class="nx">assets</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">assets</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">assets</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">assets</span><span class="p">)</span> <span class="p">?</span> <span class="nx">assets</span> <span class="p">:</span> <span class="p">[</span><span class="nx">assets</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">middleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span> <span class="na">serverSideRender</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}));</span>

<span class="c1">// The following middleware would not be invoked until the latest build is finished.</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">((</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">devMiddleware</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">locals</span><span class="p">.</span><span class="nx">webpack</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">outputFileSystem</span> <span class="o">=</span> <span class="nx">devMiddleware</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">outputFileSystem</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">jsonWebpackStats</span> <span class="o">=</span> <span class="nx">devMiddleware</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">stats</span><span class="p">.</span><span class="nx">toJson</span><span class="p">();</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">assetsByChunkName</span><span class="p">,</span> <span class="nx">outputPath</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">jsonWebpackStats</span><span class="p">;</span>

  <span class="c1">// Then use `assetsByChunkName` for server-side rendering</span>
  <span class="c1">// For example, if you have only one main chunk:</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s2">`
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;My App&lt;/title&gt;
    &lt;style&gt;
    </span><span class="p">${</span><span class="nx">normalizeAssets</span><span class="p">(</span><span class="nx">assetsByChunkName</span><span class="p">.</span><span class="nx">main</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">path</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">path</span><span class="p">.</span><span class="nx">endsWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">.css</span><span class="dl">"</span><span class="p">))</span>
      <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">path</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">outputFileSystem</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">outputPath</span><span class="p">,</span> <span class="nx">path</span><span class="p">)))</span>
      <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">"</span><span class="se">\n</span><span class="dl">"</span><span class="p">)}</span><span class="s2">
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    </span><span class="p">${</span><span class="nx">normalizeAssets</span><span class="p">(</span><span class="nx">assetsByChunkName</span><span class="p">.</span><span class="nx">main</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">path</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">path</span><span class="p">.</span><span class="nx">endsWith</span><span class="p">(</span><span class="dl">"</span><span class="s2">.js</span><span class="dl">"</span><span class="p">))</span>
      <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">path</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s2">`&lt;script src="</span><span class="p">${</span><span class="nx">path</span><span class="p">}</span><span class="s2">"&gt;&lt;/script&gt;`</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">"</span><span class="se">\n</span><span class="dl">"</span><span class="p">)}</span><span class="s2">
  &lt;/body&gt;
&lt;/html&gt;
  `</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="support">Support</h2>

<p>We do our best to keep Issues in the repository focused on bugs, features, and
needed modifications to the code for the module. Because of that, we ask users
with general support, “how-to”, or “why isn’t this working” questions to try one
of the other support channels that are available.</p>

<p>Your first-stop-shop for support for webpack-dev-server should by the excellent
<a href="https://webpack.js.org/guides/development/#using-webpack-dev-middleware">documentation</a> for the module. If you see an opportunity for improvement
of those docs, please head over to the <a href="https://github.com/webpack/webpack.js.org">webpack.js.org repo</a> and open a
pull request.</p>

<p>From there, we encourage users to visit the <a href="https://gitter.im/webpack/webpack">webpack Gitter chat</a> and
talk to the fine folks there. If your quest for answers comes up dry in chat,
head over to <a href="https://stackoverflow.com/questions/tagged/webpack-dev-middleware">StackOverflow</a> and do a quick search or open a new
question. Remember; It’s always much easier to answer questions that include your
<code class="language-plaintext highlighter-rouge">webpack.config.js</code> and relevant files!</p>

<p>If you’re twitter-savvy you can tweet <a href="https://twitter.com/search?q=webpack">#webpack</a> with your question
and someone should be able to reach out and lend a hand.</p>

<p>If you have discovered a :bug:, have a feature suggestion, or would like to see
a modification, please feel free to create an issue on Github. <em>Note: The issue
template isn’t optional, so please be sure not to remove it, and please fill it
out completely.</em></p>

<h2 id="other-servers">Other servers</h2>

<p>Examples of use with other servers will follow here.</p>

<h3 id="fastify">Fastify</h3>

<p>Fastify interop will require the use of <code class="language-plaintext highlighter-rouge">fastify-express</code> instead of <code class="language-plaintext highlighter-rouge">middie</code> for providing middleware support. As the authors of <code class="language-plaintext highlighter-rouge">fastify-express</code> recommend, this should only be used as a stopgap while full Fastify support is worked on.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">fastify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">fastify</span><span class="dl">"</span><span class="p">)();</span>
<span class="kd">const</span> <span class="nx">webpack</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">webpackConfig</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">./webpack.config.js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">devMiddleware</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">webpack-dev-middleware</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">(</span><span class="nx">webpackConfig</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">publicPath</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">webpackConfig</span><span class="p">.</span><span class="nx">output</span><span class="p">;</span>

<span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">fastify</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">fastify-express</span><span class="dl">"</span><span class="p">));</span>
  <span class="k">await</span> <span class="nx">fastify</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">devMiddleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span> <span class="nx">publicPath</span> <span class="p">}));</span>
  <span class="k">await</span> <span class="nx">fastify</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre></div></div>

<h2 id="contributing">Contributing</h2>

<p>Please take a moment to read our contributing guidelines if you haven’t yet done so.</p>

<p><a href="./CONTRIBUTING.md">CONTRIBUTING</a></p>

<h2 id="license">License</h2>

<p><a href="/myportfolio.client/node_modules/webpack-dev-middleware/LICENSE">MIT</a></p>



      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
