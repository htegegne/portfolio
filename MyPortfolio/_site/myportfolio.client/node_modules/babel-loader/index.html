<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="portfolio" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/babel-loader/" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/babel-loader/" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="portfolio" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"portfolio","url":"http://localhost:4000/myportfolio.client/node_modules/babel-loader/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=059dd2210d8f0fb8d42af0cbb5c1b29e59b98886">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <blockquote>
  <p>This README is for babel-loader v8 + Babel v7
If you are using legacy Babel v6, see the <a href="https://github.com/babel/babel-loader/tree/7.x">7.x branch</a> docs</p>
</blockquote>

<p><a href="https://www.npmjs.com/package/babel-loader"><img src="https://img.shields.io/npm/v/babel-loader.svg?style=flat" alt="NPM Status" /></a>
<a href="https://codecov.io/gh/babel/babel-loader"><img src="https://codecov.io/gh/babel/babel-loader/branch/main/graph/badge.svg" alt="codecov" /></a></p>

<div align="center">
  <a href="https://github.com/babel/babel">
    <img src="https://rawgit.com/babel/logo/master/babel.svg" alt="Babel logo" width="200" height="200" />
  </a>
  <a href="https://github.com/webpack/webpack">
    <img src="https://webpack.js.org/assets/icon-square-big.svg" alt="webpack logo" width="200" height="200" />
  </a>
</div>

<h1 align="center">Babel Loader</h1>

<p>This package allows transpiling JavaScript files using <a href="https://github.com/babel/babel">Babel</a> and <a href="https://github.com/webpack/webpack">webpack</a>.</p>

<p><strong>Note</strong>: Issues with the output should be reported on the Babel <a href="https://github.com/babel/babel/issues">Issues</a> tracker.</p>

<h2 align="center">Install</h2>

<blockquote>
  <table>
    <tbody>
      <tr>
        <td>webpack <code class="language-plaintext highlighter-rouge">4.x || 5.x</code></td>
        <td>babel-loader 8.x</td>
        <td>babel 7.x</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">-D</span> babel-loader @babel/core @babel/preset-env webpack
</code></pre></div></div>

<h2 align="center">Usage</h2>

<p>webpack documentation: <a href="https://webpack.js.org/loaders/">Loaders</a></p>

<p>Within your webpack configuration object, you’ll need to add the babel-loader to the list of modules, like so:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">rules</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">m</span><span class="se">?</span><span class="sr">js$/</span><span class="p">,</span>
      <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span><span class="p">,</span>
      <span class="na">use</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel-loader</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">presets</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/preset-env</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">targets</span><span class="p">:</span> <span class="dl">"</span><span class="s2">defaults</span><span class="dl">"</span> <span class="p">}]</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="options">Options</h3>

<p>See the <code class="language-plaintext highlighter-rouge">babel</code> <a href="https://babeljs.io/docs/en/options">options</a>.</p>

<p>You can pass options to the loader by using the <a href="https://webpack.js.org/configuration/module/#ruleoptions--rulequery"><code class="language-plaintext highlighter-rouge">options</code></a> property:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">rules</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">m</span><span class="se">?</span><span class="sr">js$/</span><span class="p">,</span>
      <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span><span class="p">,</span>
      <span class="na">use</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel-loader</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">presets</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/preset-env</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">targets</span><span class="p">:</span> <span class="dl">"</span><span class="s2">defaults</span><span class="dl">"</span> <span class="p">}]</span>
          <span class="p">],</span>
          <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/plugin-proposal-class-properties</span><span class="dl">'</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This loader also supports the following loader-specific option:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">cacheDirectory</code>: Default <code class="language-plaintext highlighter-rouge">false</code>. When set, the given directory will be used to cache the results of the loader. Future webpack builds will attempt to read from the cache to avoid needing to run the potentially expensive Babel recompilation process on each run. If the value is set to <code class="language-plaintext highlighter-rouge">true</code> in options (<code class="language-plaintext highlighter-rouge">{cacheDirectory: true}</code>), the loader will use the default cache directory in <code class="language-plaintext highlighter-rouge">node_modules/.cache/babel-loader</code> or fallback to the default OS temporary file directory if no <code class="language-plaintext highlighter-rouge">node_modules</code> folder could be found in any root directory.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">cacheIdentifier</code>: Default is a string composed by the <code class="language-plaintext highlighter-rouge">@babel/core</code>’s version, the <code class="language-plaintext highlighter-rouge">babel-loader</code>’s version, the contents of <code class="language-plaintext highlighter-rouge">.babelrc</code> file if it exists, and the value of the environment variable <code class="language-plaintext highlighter-rouge">BABEL_ENV</code> with a fallback to the <code class="language-plaintext highlighter-rouge">NODE_ENV</code> environment variable. This can be set to a custom value to force cache busting if the identifier changes.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">cacheCompression</code>: Default <code class="language-plaintext highlighter-rouge">true</code>. When set, each Babel transform output will be compressed with Gzip. If you want to opt-out of cache compression, set it to <code class="language-plaintext highlighter-rouge">false</code> – your project may benefit from this if it transpiles thousands of files.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">customize</code>: Default <code class="language-plaintext highlighter-rouge">null</code>. The path of a module that exports a <code class="language-plaintext highlighter-rouge">custom</code> callback <a href="#customized-loader">like the one that you’d pass to <code class="language-plaintext highlighter-rouge">.custom()</code></a>. Since you already have to make a new file to use this, it is recommended that you instead use <code class="language-plaintext highlighter-rouge">.custom</code> to create a wrapper loader. Only use this if you <em>must</em> continue using <code class="language-plaintext highlighter-rouge">babel-loader</code> directly, but still want to customize.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">metadataSubscribers</code>: Default <code class="language-plaintext highlighter-rouge">[]</code>. Takes an array of context function names. E.g. if you passed [‘myMetadataPlugin’], you’d assign a subscriber function to <code class="language-plaintext highlighter-rouge">context.myMetadataPlugin</code> within your webpack plugin’s hooks &amp; that function will be called with <code class="language-plaintext highlighter-rouge">metadata</code>.</p>
  </li>
</ul>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="babel-loader-is-slow">babel-loader is slow!</h3>

<p>Make sure you are transforming as few files as possible. Because you are probably matching <code class="language-plaintext highlighter-rouge">/\.m?js$/</code>, you might be transforming the <code class="language-plaintext highlighter-rouge">node_modules</code> folder or other unwanted source.</p>

<p>To exclude <code class="language-plaintext highlighter-rouge">node_modules</code>, see the <code class="language-plaintext highlighter-rouge">exclude</code> option in the <code class="language-plaintext highlighter-rouge">loaders</code> config as documented above.</p>

<p>You can also speed up babel-loader by as much as 2x by using the <code class="language-plaintext highlighter-rouge">cacheDirectory</code> option. This will cache transformations to the filesystem.</p>

<h3 id="some-files-in-my-node_modules-are-not-transpiled-for-ie-11">Some files in my node_modules are not transpiled for IE 11</h3>

<p>Although we typically recommend not compiling <code class="language-plaintext highlighter-rouge">node_modules</code>, you may need to when using libraries that do not support IE 11.</p>

<p>For this, you can either use a combination of <code class="language-plaintext highlighter-rouge">test</code> and <code class="language-plaintext highlighter-rouge">not</code>, or <a href="https://webpack.js.org/configuration/module/#condition">pass a function</a> to your <code class="language-plaintext highlighter-rouge">exclude</code> option. You can also use negative lookahead regex as suggested <a href="https://github.com/webpack/webpack/issues/2031#issuecomment-294706065">here</a>.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="nl">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">m</span><span class="se">?</span><span class="sr">js$/</span><span class="p">,</span>
    <span class="nx">exclude</span><span class="p">:</span> <span class="p">{</span>
      <span class="nl">and</span><span class="p">:</span> <span class="p">[</span><span class="sr">/node_modules/</span><span class="p">],</span> <span class="c1">// Exclude libraries in node_modules ...</span>
      <span class="nx">not</span><span class="p">:</span> <span class="p">[</span>
        <span class="c1">// Except for a few of them that needs to be transpiled because they use modern syntax</span>
        <span class="sr">/unfetch/</span><span class="p">,</span>
        <span class="sr">/d3-array|d3-scale/</span><span class="p">,</span>
        <span class="sr">/@hapi</span><span class="se">[\\/]</span><span class="sr">joi-date/</span><span class="p">,</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">use</span><span class="p">:</span> <span class="p">{</span>
      <span class="nl">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel-loader</span><span class="dl">'</span><span class="p">,</span>
      <span class="nx">options</span><span class="p">:</span> <span class="p">{</span>
        <span class="nl">presets</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/preset-env</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">targets</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ie 11</span><span class="dl">"</span> <span class="p">}]</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div></div>

<h3 id="babel-is-injecting-helpers-into-each-file-and-bloating-my-code">Babel is injecting helpers into each file and bloating my code!</h3>

<p>Babel uses very small helpers for common functions such as <code class="language-plaintext highlighter-rouge">_extend</code>. By default, this will be added to every file that requires it.</p>

<p>You can instead require the Babel runtime as a separate module to avoid the duplication.</p>

<p>The following configuration disables automatic per-file runtime injection in Babel, requiring <code class="language-plaintext highlighter-rouge">@babel/plugin-transform-runtime</code> instead and making all helper references use it.</p>

<p>See the <a href="https://babeljs.io/docs/plugins/transform-runtime/">docs</a> for more information.</p>

<p><strong>NOTE</strong>: You must run <code class="language-plaintext highlighter-rouge">npm install -D @babel/plugin-transform-runtime</code> to include this in your project and <code class="language-plaintext highlighter-rouge">@babel/runtime</code> itself as a dependency with <code class="language-plaintext highlighter-rouge">npm install @babel/runtime</code>.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">rules</span><span class="p">:</span> <span class="p">[</span>
  <span class="c1">// the 'transform-runtime' plugin tells Babel to</span>
  <span class="c1">// require the runtime instead of inlining it.</span>
  <span class="p">{</span>
    <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">m</span><span class="se">?</span><span class="sr">js$/</span><span class="p">,</span>
    <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span><span class="p">,</span>
    <span class="na">use</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel-loader</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">presets</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/preset-env</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">targets</span><span class="p">:</span> <span class="dl">"</span><span class="s2">defaults</span><span class="dl">"</span> <span class="p">}]</span>
        <span class="p">],</span>
        <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/plugin-transform-runtime</span><span class="dl">'</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre></div></div>

<h4 id="note-transform-runtime--custom-polyfills-eg-promise-library"><strong>NOTE</strong>: transform-runtime &amp; custom polyfills (e.g. Promise library)</h4>

<p>Since <a href="https://github.com/babel/babel/tree/main/packages/babel-plugin-transform-runtime">@babel/plugin-transform-runtime</a> includes a polyfill that includes a custom <a href="https://github.com/facebook/regenerator/blob/master/packages/regenerator-runtime/runtime.js">regenerator-runtime</a> and <a href="https://github.com/zloirock/core-js">core-js</a>, the following usual shimming method using <code class="language-plaintext highlighter-rouge">webpack.ProvidePlugin</code> will not work:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ...</span>
        <span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">ProvidePlugin</span><span class="p">({</span>
            <span class="dl">'</span><span class="s1">Promise</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bluebird</span><span class="dl">'</span>
        <span class="p">}),</span>
<span class="c1">// ...</span>
</code></pre></div></div>

<p>The following approach will not work either:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">@babel/runtime/core-js/promise</span><span class="dl">'</span><span class="p">).</span><span class="k">default</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">bluebird</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">;</span>
</code></pre></div></div>

<p>which outputs to (using <code class="language-plaintext highlighter-rouge">runtime</code>):</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">_Promise</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">@babel/runtime/core-js/promise</span><span class="dl">'</span><span class="p">)[</span><span class="dl">'</span><span class="s1">default</span><span class="dl">'</span><span class="p">];</span>

<span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">@babel/runtime/core-js/promise</span><span class="dl">'</span><span class="p">)[</span><span class="dl">'</span><span class="s1">default</span><span class="dl">'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">bluebird</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">_Promise</span><span class="p">();</span>
</code></pre></div></div>

<p>The previous <code class="language-plaintext highlighter-rouge">Promise</code> library is referenced and used before it is overridden.</p>

<p>One approach is to have a “bootstrap” step in your application that would first override the default globals before your application:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// bootstrap.js</span>

<span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">@babel/runtime/core-js/promise</span><span class="dl">'</span><span class="p">).</span><span class="k">default</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">bluebird</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// ...</span>

<span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./app</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="the-nodejs-api-for-babel-has-been-moved-to-babel-core">The Node.js API for <code class="language-plaintext highlighter-rouge">babel</code> has been moved to <code class="language-plaintext highlighter-rouge">babel-core</code>.</h3>

<p>If you receive this message, it means that you have the npm package <code class="language-plaintext highlighter-rouge">babel</code> installed and are using the short notation of the loader in the webpack config (which is not valid anymore as of webpack 2.x):</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="p">{</span>
    <span class="nl">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">m</span><span class="se">?</span><span class="sr">js$/</span><span class="p">,</span>
    <span class="nx">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">}</span>
</code></pre></div></div>

<p>webpack then tries to load the <code class="language-plaintext highlighter-rouge">babel</code> package instead of the <code class="language-plaintext highlighter-rouge">babel-loader</code>.</p>

<p>To fix this, you should uninstall the npm package <code class="language-plaintext highlighter-rouge">babel</code>, as it is deprecated in Babel v6. (Instead, install <code class="language-plaintext highlighter-rouge">@babel/cli</code> or <code class="language-plaintext highlighter-rouge">@babel/core</code>.)
In the case one of your dependencies is installing <code class="language-plaintext highlighter-rouge">babel</code> and you cannot uninstall it yourself, use the complete name of the loader in the webpack config:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="p">{</span>
    <span class="nl">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">m</span><span class="se">?</span><span class="sr">js$/</span><span class="p">,</span>
    <span class="nx">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel-loader</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">}</span>
</code></pre></div></div>

<h3 id="exclude-libraries-that-should-not-be-transpiled">Exclude libraries that should not be transpiled</h3>

<p><code class="language-plaintext highlighter-rouge">core-js</code> and <code class="language-plaintext highlighter-rouge">webpack/buildin</code> will cause errors if they are transpiled by Babel.</p>

<p>You will need to exclude them form <code class="language-plaintext highlighter-rouge">babel-loader</code>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">loader</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">babel-loader</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">options</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">exclude</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="c1">// \\ for Windows, / for macOS and Linux</span>
      <span class="sr">/node_modules</span><span class="se">[\\/]</span><span class="sr">core-js/</span><span class="p">,</span>
      <span class="sr">/node_modules</span><span class="se">[\\/]</span><span class="sr">webpack</span><span class="se">[\\/]</span><span class="sr">buildin/</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">presets</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="dl">"</span><span class="s2">@babel/preset-env</span><span class="dl">"</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="top-level-function-iife-is-still-arrow-on-webpack-5">Top level function (IIFE) is still arrow (on Webpack 5)</h3>

<p>That function is injected by Webpack itself <em>after</em> running <code class="language-plaintext highlighter-rouge">babel-loader</code>. By default Webpack asumes that your target environment supports some ES2015 features, but you can overwrite this behavior using the <code class="language-plaintext highlighter-rouge">output.environment</code> Webpack option (<a href="https://webpack.js.org/configuration/output/#outputenvironment">documentation</a>).</p>

<p>To avoid the top-level arrow function, you can use <code class="language-plaintext highlighter-rouge">output.environment.arrowFunction</code>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// webpack.config.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// ...</span>
  <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="na">environment</span><span class="p">:</span> <span class="p">{</span>
      <span class="c1">// ...</span>
      <span class="na">arrowFunction</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// &lt;-- this line does the trick</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="customize-config-based-on-webpack-target">Customize config based on webpack target</h2>

<p>Webpack supports bundling multiple <a href="https://webpack.js.org/concepts/targets/">targets</a>. For cases where you may want different Babel configurations for each target (like <code class="language-plaintext highlighter-rouge">web</code> <em>and</em> <code class="language-plaintext highlighter-rouge">node</code>), this loader provides a <code class="language-plaintext highlighter-rouge">target</code> property via Babel’s <a href="https://babeljs.io/docs/en/config-files#apicallercb">caller</a> API.</p>

<p>For example, to change the environment targets passed to <code class="language-plaintext highlighter-rouge">@babel/preset-env</code> based on the webpack target:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// babel.config.js</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">api</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
      <span class="dl">"</span><span class="s2">@babel/plugin-proposal-nullish-coalescing-operator</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">@babel/plugin-proposal-optional-chaining</span><span class="dl">"</span>
    <span class="p">],</span>
    <span class="na">presets</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="dl">"</span><span class="s2">@babel/preset-env</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">{</span>
          <span class="na">useBuiltIns</span><span class="p">:</span> <span class="dl">"</span><span class="s2">entry</span><span class="dl">"</span><span class="p">,</span>
          <span class="c1">// caller.target will be the same as the target option from webpack</span>
          <span class="na">targets</span><span class="p">:</span> <span class="nx">api</span><span class="p">.</span><span class="nx">caller</span><span class="p">(</span><span class="nx">caller</span> <span class="o">=&gt;</span> <span class="nx">caller</span> <span class="o">&amp;&amp;</span> <span class="nx">caller</span><span class="p">.</span><span class="nx">target</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">node</span><span class="dl">"</span><span class="p">)</span>
            <span class="p">?</span> <span class="p">{</span> <span class="na">node</span><span class="p">:</span> <span class="dl">"</span><span class="s2">current</span><span class="dl">"</span> <span class="p">}</span>
            <span class="p">:</span> <span class="p">{</span> <span class="na">chrome</span><span class="p">:</span> <span class="dl">"</span><span class="s2">58</span><span class="dl">"</span><span class="p">,</span> <span class="na">ie</span><span class="p">:</span> <span class="dl">"</span><span class="s2">11</span><span class="dl">"</span> <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="customized-loader">Customized Loader</h2>

<p><code class="language-plaintext highlighter-rouge">babel-loader</code> exposes a loader-builder utility that allows users to add custom handling
of Babel’s configuration for each file that it processes.</p>

<p><code class="language-plaintext highlighter-rouge">.custom</code> accepts a callback that will be called with the loader’s instance of
<code class="language-plaintext highlighter-rouge">babel</code> so that tooling can ensure that it using exactly the same <code class="language-plaintext highlighter-rouge">@babel/core</code>
instance as the loader itself.</p>

<p>In cases where you want to customize without actually having a file to call <code class="language-plaintext highlighter-rouge">.custom</code>, you
may also pass the <code class="language-plaintext highlighter-rouge">customize</code> option with a string pointing at a file that exports
your <code class="language-plaintext highlighter-rouge">custom</code> callback function.</p>

<h3 id="example">Example</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Export from "./my-custom-loader.js" or whatever you want.</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">babel-loader</span><span class="dl">"</span><span class="p">).</span><span class="nx">custom</span><span class="p">(</span><span class="nx">babel</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">myPlugin</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">visitor</span><span class="p">:</span> <span class="p">{},</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">{</span>
    <span class="c1">// Passed the loader options.</span>
    <span class="nx">customOptions</span><span class="p">({</span> <span class="nx">opt1</span><span class="p">,</span> <span class="nx">opt2</span><span class="p">,</span> <span class="p">...</span><span class="nx">loader</span> <span class="p">})</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="c1">// Pull out any custom options that the loader might have.</span>
        <span class="na">custom</span><span class="p">:</span> <span class="p">{</span> <span class="nx">opt1</span><span class="p">,</span> <span class="nx">opt2</span> <span class="p">},</span>

        <span class="c1">// Pass the options back with the two custom options removed.</span>
        <span class="nx">loader</span><span class="p">,</span>
      <span class="p">};</span>
    <span class="p">},</span>

    <span class="c1">// Passed Babel's 'PartialConfig' object.</span>
    <span class="nx">config</span><span class="p">(</span><span class="nx">cfg</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">cfg</span><span class="p">.</span><span class="nx">hasFilesystemConfig</span><span class="p">())</span> <span class="p">{</span>
        <span class="c1">// Use the normal config</span>
        <span class="k">return</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">options</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">cfg</span><span class="p">.</span><span class="nx">options</span><span class="p">,</span>
        <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">...(</span><span class="nx">cfg</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">plugins</span> <span class="o">||</span> <span class="p">[]),</span>

          <span class="c1">// Include a custom plugin in the options.</span>
          <span class="nx">myPlugin</span><span class="p">,</span>
        <span class="p">],</span>
      <span class="p">};</span>
    <span class="p">},</span>

    <span class="nx">result</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">result</span><span class="p">,</span>
        <span class="na">code</span><span class="p">:</span> <span class="nx">result</span><span class="p">.</span><span class="nx">code</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\n</span><span class="s2">// Generated by some custom loader</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">};</span>
    <span class="p">},</span>
  <span class="p">};</span>
<span class="p">});</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// And in your Webpack config</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// ..</span>
  <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">rules</span><span class="p">:</span> <span class="p">[{</span>
      <span class="c1">// ...</span>
      <span class="na">loader</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">my-custom-loader.js</span><span class="dl">'</span><span class="p">),</span>
      <span class="c1">// ...</span>
    <span class="p">}]</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="customoptionsoptions-object--custom-object-loader-object-"><code class="language-plaintext highlighter-rouge">customOptions(options: Object): { custom: Object, loader: Object }</code></h3>

<p>Given the loader’s options, split custom options out of <code class="language-plaintext highlighter-rouge">babel-loader</code>’s
options.</p>

<h3 id="configcfg-partialconfig-object"><code class="language-plaintext highlighter-rouge">config(cfg: PartialConfig): Object</code></h3>

<p>Given Babel’s <code class="language-plaintext highlighter-rouge">PartialConfig</code> object, return the <code class="language-plaintext highlighter-rouge">options</code> object that should
be passed to <code class="language-plaintext highlighter-rouge">babel.transform</code>.</p>

<h3 id="resultresult-result-result"><code class="language-plaintext highlighter-rouge">result(result: Result): Result</code></h3>

<p>Given Babel’s result object, allow loaders to make additional tweaks to it.</p>

<h2 id="license">License</h2>
<p><a href="https://couto.mit-license.org/">MIT</a></p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
