<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>@remix-run/router | portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="@remix-run/router" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/@remix-run/router/CHANGELOG.html" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/@remix-run/router/CHANGELOG.html" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="@remix-run/router" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"@remix-run/router","url":"http://localhost:4000/myportfolio.client/node_modules/@remix-run/router/CHANGELOG.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=059dd2210d8f0fb8d42af0cbb5c1b29e59b98886">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <h1 id="remix-runrouter"><code class="language-plaintext highlighter-rouge">@remix-run/router</code></h1>

<h2 id="1140">1.14.0</h2>

<h3 id="minor-changes">Minor Changes</h3>

<ul>
  <li>
    <p>Added a new <code class="language-plaintext highlighter-rouge">future.v7_partialHydration</code> future flag that enables partial hydration of a data router when Server-Side Rendering. This allows you to provide <code class="language-plaintext highlighter-rouge">hydrationData.loaderData</code> that has values for <em>some</em> initially matched route loaders, but not all. When this flag is enabled, the router will call <code class="language-plaintext highlighter-rouge">loader</code> functions for routes that do not have hydration loader data during <code class="language-plaintext highlighter-rouge">router.initialize()</code>, and it will render down to the deepest provided <code class="language-plaintext highlighter-rouge">HydrateFallback</code> (up to the first route without hydration data) while it executes the unhydrated routes. (<a href="https://github.com/remix-run/react-router/pull/11033">#11033</a>)</p>

    <p>For example, the following router has a <code class="language-plaintext highlighter-rouge">root</code> and <code class="language-plaintext highlighter-rouge">index</code> route, but only provided <code class="language-plaintext highlighter-rouge">hydrationData.loaderData</code> for the <code class="language-plaintext highlighter-rouge">root</code> route. Because the <code class="language-plaintext highlighter-rouge">index</code> route has a <code class="language-plaintext highlighter-rouge">loader</code>, we need to run that during initialization. With <code class="language-plaintext highlighter-rouge">future.v7_partialHydration</code> specified, <code class="language-plaintext highlighter-rouge">&lt;RouterProvider&gt;</code> will render the <code class="language-plaintext highlighter-rouge">RootComponent</code> (because it has data) and then the <code class="language-plaintext highlighter-rouge">IndexFallback</code> (since it does not have data). Once <code class="language-plaintext highlighter-rouge">indexLoader</code> finishes, application will update and display <code class="language-plaintext highlighter-rouge">IndexComponent</code>.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">createBrowserRouter</span><span class="p">(</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">root</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">loader</span><span class="p">:</span> <span class="nx">rootLoader</span><span class="p">,</span>
      <span class="na">Component</span><span class="p">:</span> <span class="nx">RootComponent</span><span class="p">,</span>
      <span class="na">Fallback</span><span class="p">:</span> <span class="nx">RootFallback</span><span class="p">,</span>
      <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">index</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">index</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">loader</span><span class="p">:</span> <span class="nx">indexLoader</span><span class="p">,</span>
          <span class="na">Component</span><span class="p">:</span> <span class="nx">IndexComponent</span><span class="p">,</span>
          <span class="na">HydrateFallback</span><span class="p">:</span> <span class="nx">IndexFallback</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
  <span class="p">],</span>
  <span class="p">{</span>
    <span class="na">future</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">v7_partialHydration</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">hydrationData</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">loaderData</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">root</span><span class="p">:</span> <span class="p">{</span> <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Hydrated from Root!</span><span class="dl">"</span> <span class="p">},</span>
      <span class="p">},</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">);</span>
</code></pre></div>    </div>

    <p>If the above example did not have an <code class="language-plaintext highlighter-rouge">IndexFallback</code>, then <code class="language-plaintext highlighter-rouge">RouterProvider</code> would instead render the <code class="language-plaintext highlighter-rouge">RootFallback</code> while it executed the <code class="language-plaintext highlighter-rouge">indexLoader</code>.</p>

    <p><strong>Note:</strong> When <code class="language-plaintext highlighter-rouge">future.v7_partialHydration</code> is provided, the <code class="language-plaintext highlighter-rouge">&lt;RouterProvider fallbackElement&gt;</code> prop is ignored since you can move it to a <code class="language-plaintext highlighter-rouge">Fallback</code> on your top-most route. The <code class="language-plaintext highlighter-rouge">fallbackElement</code> prop will be removed in React Router v7 when <code class="language-plaintext highlighter-rouge">v7_partialHydration</code> behavior becomes the standard behavior.</p>
  </li>
  <li>
    <p>Add a new <code class="language-plaintext highlighter-rouge">future.v7_relativeSplatPath</code> flag to implement a breaking bug fix to relative routing when inside a splat route. (<a href="https://github.com/remix-run/react-router/pull/11087">#11087</a>)</p>

    <p>This fix was originally added in <a href="https://github.com/remix-run/react-router/issues/10983">#10983</a> and was later reverted in <a href="https://github.com/remix-run/react-router/pull/11078">#11078</a> because it was determined that a large number of existing applications were relying on the buggy behavior (see <a href="https://github.com/remix-run/react-router/issues/11052">#11052</a>)</p>

    <p><strong>The Bug</strong>
The buggy behavior is that without this flag, the default behavior when resolving relative paths is to <em>ignore</em> any splat (<code class="language-plaintext highlighter-rouge">*</code>) portion of the current route path.</p>

    <p><strong>The Background</strong>
This decision was originally made thinking that it would make the concept of nested different sections of your apps in <code class="language-plaintext highlighter-rouge">&lt;Routes&gt;</code> easier if relative routing would <em>replace</em> the current splat:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nc">BrowserRouter</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nc">Routes</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"/"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Home</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"dashboard/*"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Dashboard</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nc">Routes</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nc">BrowserRouter</span><span class="p">&gt;</span>
</code></pre></div>    </div>

    <p>Any paths like <code class="language-plaintext highlighter-rouge">/dashboard</code>, <code class="language-plaintext highlighter-rouge">/dashboard/team</code>, <code class="language-plaintext highlighter-rouge">/dashboard/projects</code> will match the <code class="language-plaintext highlighter-rouge">Dashboard</code> route. The dashboard component itself can then render nested <code class="language-plaintext highlighter-rouge">&lt;Routes&gt;</code>:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Dashboard</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Dashboard<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">nav</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">"/"</span><span class="p">&gt;</span>Dashboard Home<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">"team"</span><span class="p">&gt;</span>Team<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">"projects"</span><span class="p">&gt;</span>Projects<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nc">Routes</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"/"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">DashboardHome</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"team"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">DashboardTeam</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"projects"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">DashboardProjects</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nc">Routes</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>Now, all links and route paths are relative to the router above them. This makes code splitting and compartmentalizing your app really easy. You could render the <code class="language-plaintext highlighter-rouge">Dashboard</code> as its own independent app, or embed it into your large app without making any changes to it.</p>

    <p><strong>The Problem</strong></p>

    <p>The problem is that this concept of ignoring part of a path breaks a lot of other assumptions in React Router - namely that <code class="language-plaintext highlighter-rouge">"."</code> always means the current location pathname for that route. When we ignore the splat portion, we start getting invalid paths when using <code class="language-plaintext highlighter-rouge">"."</code>:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// If we are on URL /dashboard/team, and we want to link to /dashboard/team:</span>
<span class="kd">function</span> <span class="nx">DashboardTeam</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// ❌ This is broken and results in &lt;a href="/dashboard"&gt;</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">"."</span><span class="p">&gt;</span>A broken link to the Current URL<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;;</span>

  <span class="c1">// ✅ This is fixed but super unintuitive since we're already at /dashboard/team!</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">"./team"</span><span class="p">&gt;</span>A broken link to the Current URL<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;;</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>We’ve also introduced an issue that we can no longer move our <code class="language-plaintext highlighter-rouge">DashboardTeam</code> component around our route hierarchy easily - since it behaves differently if we’re underneath a non-splat route, such as <code class="language-plaintext highlighter-rouge">/dashboard/:widget</code>. Now, our <code class="language-plaintext highlighter-rouge">"."</code> links will, properly point to ourself <em>inclusive of the dynamic param value</em> so behavior will break from it’s corresponding usage in a <code class="language-plaintext highlighter-rouge">/dashboard/*</code> route.</p>

    <p>Even worse, consider a nested splat route configuration:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nc">BrowserRouter</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nc">Routes</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"dashboard"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"*"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Dashboard</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Route</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nc">Routes</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nc">BrowserRouter</span><span class="p">&gt;</span>
</code></pre></div>    </div>

    <p>Now, a <code class="language-plaintext highlighter-rouge">&lt;Link to="."&gt;</code> and a <code class="language-plaintext highlighter-rouge">&lt;Link to=".."&gt;</code> inside the <code class="language-plaintext highlighter-rouge">Dashboard</code> component go to the same place! That is definitely not correct!</p>

    <p>Another common issue arose in Data Routers (and Remix) where any <code class="language-plaintext highlighter-rouge">&lt;Form&gt;</code> should post to it’s own route <code class="language-plaintext highlighter-rouge">action</code> if you the user doesn’t specify a form action:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">createBrowserRouter</span><span class="p">({</span>
  <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/dashboard</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">action</span><span class="p">:</span> <span class="nx">dashboardAction</span><span class="p">,</span>
      <span class="nx">Component</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ❌ This form is broken!  It throws a 405 error when it submits because</span>
        <span class="c1">// it tries to submit to /dashboard (without the splat value) and the parent</span>
        <span class="c1">// `/dashboard` route doesn't have an action</span>
        <span class="k">return</span> <span class="p">&lt;</span><span class="nc">Form</span> <span class="na">method</span><span class="p">=</span><span class="s">"post"</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nc">Form</span><span class="p">&gt;;</span>
      <span class="p">},</span>
    <span class="p">},</span>
  <span class="p">],</span>
<span class="p">});</span>
</code></pre></div>    </div>

    <p>This is just a compounded issue from the above because the default location for a <code class="language-plaintext highlighter-rouge">Form</code> to submit to is itself (<code class="language-plaintext highlighter-rouge">"."</code>) - and if we ignore the splat portion, that now resolves to the parent route.</p>

    <p><strong>The Solution</strong>
If you are leveraging this behavior, it’s recommended to enable the future flag, move your splat to it’s own route, and leverage <code class="language-plaintext highlighter-rouge">../</code> for any links to “sibling” pages:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nc">BrowserRouter</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nc">Routes</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"dashboard"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"*"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Dashboard</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Route</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nc">Routes</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nc">BrowserRouter</span><span class="p">&gt;</span>

<span class="kd">function</span> <span class="nx">Dashboard</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Dashboard<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">nav</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">".."</span><span class="p">&gt;</span>Dashboard Home<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">"../team"</span><span class="p">&gt;</span>Team<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">"../projects"</span><span class="p">&gt;</span>Projects<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nc">Routes</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"/"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">DashboardHome</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"team"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">DashboardTeam</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"projects"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">DashboardProjects</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nc">Router</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>This way, <code class="language-plaintext highlighter-rouge">.</code> means “the full current pathname for my route” in all cases (including static, dynamic, and splat routes) and <code class="language-plaintext highlighter-rouge">..</code> always means “my parents pathname”.</p>
  </li>
</ul>

<h3 id="patch-changes">Patch Changes</h3>

<ul>
  <li>Catch and bubble errors thrown when trying to unwrap responses from <code class="language-plaintext highlighter-rouge">loader</code>/<code class="language-plaintext highlighter-rouge">action</code> functions (<a href="https://github.com/remix-run/react-router/pull/11061">#11061</a>)</li>
  <li>Fix <code class="language-plaintext highlighter-rouge">relative="path"</code> issue when rendering <code class="language-plaintext highlighter-rouge">Link</code>/<code class="language-plaintext highlighter-rouge">NavLink</code> outside of matched routes (<a href="https://github.com/remix-run/react-router/pull/11062">#11062</a>)</li>
</ul>

<h2 id="1131">1.13.1</h2>

<h3 id="patch-changes-1">Patch Changes</h3>

<ul>
  <li>Revert the <code class="language-plaintext highlighter-rouge">useResolvedPath</code> fix for splat routes due to a large number of applications that were relying on the buggy behavior (see https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329). We plan to re-introduce this fix behind a future flag in the next minor version. (<a href="https://github.com/remix-run/react-router/pull/11078">#11078</a>)</li>
</ul>

<h2 id="1130">1.13.0</h2>

<h3 id="minor-changes-1">Minor Changes</h3>

<ul>
  <li>Export the <code class="language-plaintext highlighter-rouge">PathParam</code> type from the public API (<a href="https://github.com/remix-run/react-router/pull/10719">#10719</a>)</li>
</ul>

<h3 id="patch-changes-2">Patch Changes</h3>

<ul>
  <li>Fix bug with <code class="language-plaintext highlighter-rouge">resolveTo</code> in splat routes (<a href="https://github.com/remix-run/react-router/pull/11045">#11045</a>)
    <ul>
      <li>This is a follow up to <a href="https://github.com/remix-run/react-router/pull/10983">#10983</a> to handle the few other code paths using <code class="language-plaintext highlighter-rouge">getPathContributingMatches</code></li>
      <li>This removes the <code class="language-plaintext highlighter-rouge">UNSAFE_getPathContributingMatches</code> export from <code class="language-plaintext highlighter-rouge">@remix-run/router</code> since we no longer need this in the <code class="language-plaintext highlighter-rouge">react-router</code>/<code class="language-plaintext highlighter-rouge">react-router-dom</code> layers</li>
    </ul>
  </li>
  <li>Do not revalidate unmounted fetchers when <code class="language-plaintext highlighter-rouge">v7_fetcherPersist</code> is enabled (<a href="https://github.com/remix-run/react-router/pull/11044">#11044</a>)</li>
</ul>

<h2 id="1120">1.12.0</h2>

<h3 id="minor-changes-2">Minor Changes</h3>

<ul>
  <li>Add <code class="language-plaintext highlighter-rouge">unstable_flushSync</code> option to <code class="language-plaintext highlighter-rouge">router.navigate</code> and <code class="language-plaintext highlighter-rouge">router.fetch</code> to tell the React Router layer to opt-out of <code class="language-plaintext highlighter-rouge">React.startTransition</code> and into <code class="language-plaintext highlighter-rouge">ReactDOM.flushSync</code> for state updates (<a href="https://github.com/remix-run/react-router/pull/11005">#11005</a>)</li>
</ul>

<h3 id="patch-changes-3">Patch Changes</h3>

<ul>
  <li>
    <p>Fix <code class="language-plaintext highlighter-rouge">relative="path"</code> bug where relative path calculations started from the full location pathname, instead of from the current contextual route pathname. (<a href="https://github.com/remix-run/react-router/pull/11006">#11006</a>)</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"/a"</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"/b"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Component</span> <span class="p">/&gt;</span><span class="si">}</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"/c"</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nc">Route</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nc">Route</span><span class="p">&gt;;</span>

<span class="kd">function</span> <span class="nx">Component</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;&gt;</span>
      <span class="si">{</span><span class="cm">/* This is now correctly relative to /a/b, not /a/b/c */</span><span class="si">}</span>
      <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">".."</span> <span class="na">relative</span><span class="p">=</span><span class="s">"path"</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nc">Outlet</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="1110">1.11.0</h2>

<h3 id="minor-changes-3">Minor Changes</h3>

<ul>
  <li>
    <p>Add a new <code class="language-plaintext highlighter-rouge">future.v7_fetcherPersist</code> flag to the <code class="language-plaintext highlighter-rouge">@remix-run/router</code> to change the persistence behavior of fetchers when <code class="language-plaintext highlighter-rouge">router.deleteFetcher</code> is called. Instead of being immediately cleaned up, fetchers will persist until they return to an <code class="language-plaintext highlighter-rouge">idle</code> state (<a href="https://github.com/remix-run/remix/discussions/7698">RFC</a>) (<a href="https://github.com/remix-run/react-router/pull/10962">#10962</a>)</p>

    <ul>
      <li>This is sort of a long-standing bug fix as the <code class="language-plaintext highlighter-rouge">useFetchers()</code> API was always supposed to only reflect <strong>in-flight</strong> fetcher information for pending/optimistic UI – it was not intended to reflect fetcher data or hang onto fetchers after they returned to an <code class="language-plaintext highlighter-rouge">idle</code> state</li>
      <li>Keep an eye out for the following specific behavioral changes when opting into this flag and check your app for compatibility:
        <ul>
          <li>Fetchers that complete <em>while still mounted</em> will no longer appear in <code class="language-plaintext highlighter-rouge">useFetchers()</code>. They served effectively no purpose in there since you can access the data via <code class="language-plaintext highlighter-rouge">useFetcher().data</code>).</li>
          <li>Fetchers that previously unmounted <em>while in-flight</em> will not be immediately aborted and will instead be cleaned up once they return to an <code class="language-plaintext highlighter-rouge">idle</code> state. They will remain exposed via <code class="language-plaintext highlighter-rouge">useFetchers</code> while in-flight so you can still access pending/optimistic data after unmount.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>When <code class="language-plaintext highlighter-rouge">v7_fetcherPersist</code> is enabled, the router now performs ref-counting on fetcher keys via <code class="language-plaintext highlighter-rouge">getFetcher</code>/<code class="language-plaintext highlighter-rouge">deleteFetcher</code> so it knows when a given fetcher is totally unmounted from the UI (<a href="https://github.com/remix-run/react-router/pull/10977">#10977</a>)</p>

    <ul>
      <li>Once a fetcher has been totally unmounted, we can ignore post-processing of a persisted fetcher result such as a redirect or an error</li>
      <li>The router will also pass a new <code class="language-plaintext highlighter-rouge">deletedFetchers</code> array to the subscriber callbacks so that the UI layer can remove associated fetcher data</li>
    </ul>
  </li>
  <li>
    <p>Add support for optional path segments in <code class="language-plaintext highlighter-rouge">matchPath</code> (<a href="https://github.com/remix-run/react-router/pull/10768">#10768</a>)</p>
  </li>
</ul>

<h3 id="patch-changes-4">Patch Changes</h3>

<ul>
  <li>Fix <code class="language-plaintext highlighter-rouge">router.getFetcher</code>/<code class="language-plaintext highlighter-rouge">router.deleteFetcher</code> type definitions which incorrectly specified <code class="language-plaintext highlighter-rouge">key</code> as an optional parameter (<a href="https://github.com/remix-run/react-router/pull/10960">#10960</a>)</li>
</ul>

<h2 id="1100">1.10.0</h2>

<h3 id="minor-changes-4">Minor Changes</h3>

<ul>
  <li>Add experimental support for the <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition">View Transitions API</a> by allowing users to opt-into view transitions on navigations via the new <code class="language-plaintext highlighter-rouge">unstable_viewTransition</code> option to <code class="language-plaintext highlighter-rouge">router.navigate</code> (<a href="https://github.com/remix-run/react-router/pull/10916">#10916</a>)</li>
</ul>

<h3 id="patch-changes-5">Patch Changes</h3>

<ul>
  <li>Allow 404 detection to leverage root route error boundary if path contains a URL segment (<a href="https://github.com/remix-run/react-router/pull/10852">#10852</a>)</li>
  <li>Fix <code class="language-plaintext highlighter-rouge">ErrorResponse</code> type to avoid leaking internal field (<a href="https://github.com/remix-run/react-router/pull/10876">#10876</a>)</li>
</ul>

<h2 id="190">1.9.0</h2>

<h3 id="minor-changes-5">Minor Changes</h3>

<ul>
  <li>In order to move towards stricter TypeScript support in the future, we’re aiming to replace current usages of <code class="language-plaintext highlighter-rouge">any</code> with <code class="language-plaintext highlighter-rouge">unknown</code> on exposed typings for user-provided data. To do this in Remix v2 without introducing breaking changes in React Router v6, we have added generics to a number of shared types. These continue to default to <code class="language-plaintext highlighter-rouge">any</code> in React Router and are overridden with <code class="language-plaintext highlighter-rouge">unknown</code> in Remix. In React Router v7 we plan to move these to <code class="language-plaintext highlighter-rouge">unknown</code> as a breaking change. (<a href="https://github.com/remix-run/react-router/pull/10843">#10843</a>)
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Location</code> now accepts a generic for the <code class="language-plaintext highlighter-rouge">location.state</code> value</li>
      <li><code class="language-plaintext highlighter-rouge">ActionFunctionArgs</code>/<code class="language-plaintext highlighter-rouge">ActionFunction</code>/<code class="language-plaintext highlighter-rouge">LoaderFunctionArgs</code>/<code class="language-plaintext highlighter-rouge">LoaderFunction</code> now accept a generic for the <code class="language-plaintext highlighter-rouge">context</code> parameter (only used in SSR usages via <code class="language-plaintext highlighter-rouge">createStaticHandler</code>)</li>
      <li>The return type of <code class="language-plaintext highlighter-rouge">useMatches</code> (now exported as <code class="language-plaintext highlighter-rouge">UIMatch</code>) accepts generics for <code class="language-plaintext highlighter-rouge">match.data</code> and <code class="language-plaintext highlighter-rouge">match.handle</code> - both of which were already set to <code class="language-plaintext highlighter-rouge">unknown</code></li>
    </ul>
  </li>
  <li>Move the <code class="language-plaintext highlighter-rouge">@private</code> class export <code class="language-plaintext highlighter-rouge">ErrorResponse</code> to an <code class="language-plaintext highlighter-rouge">UNSAFE_ErrorResponseImpl</code> export since it is an implementation detail and there should be no construction of <code class="language-plaintext highlighter-rouge">ErrorResponse</code> instances in userland. This frees us up to export a <code class="language-plaintext highlighter-rouge">type ErrorResponse</code> which correlates to an instance of the class via <code class="language-plaintext highlighter-rouge">InstanceType</code>. Userland code should only ever be using <code class="language-plaintext highlighter-rouge">ErrorResponse</code> as a type and should be type-narrowing via <code class="language-plaintext highlighter-rouge">isRouteErrorResponse</code>. (<a href="https://github.com/remix-run/react-router/pull/10811">#10811</a>)</li>
  <li>Export <code class="language-plaintext highlighter-rouge">ShouldRevalidateFunctionArgs</code> interface (<a href="https://github.com/remix-run/react-router/pull/10797">#10797</a>)</li>
  <li>Removed private/internal APIs only required for the Remix v1 backwards compatibility layer and no longer needed in Remix v2 (<code class="language-plaintext highlighter-rouge">_isFetchActionRedirect</code>, <code class="language-plaintext highlighter-rouge">_hasFetcherDoneAnything</code>) (<a href="https://github.com/remix-run/react-router/pull/10715">#10715</a>)</li>
</ul>

<h3 id="patch-changes-6">Patch Changes</h3>

<ul>
  <li>Add method/url to error message on aborted <code class="language-plaintext highlighter-rouge">query</code>/<code class="language-plaintext highlighter-rouge">queryRoute</code> calls (<a href="https://github.com/remix-run/react-router/pull/10793">#10793</a>)</li>
  <li>Fix a race-condition with loader/action-thrown errors on <code class="language-plaintext highlighter-rouge">route.lazy</code> routes (<a href="https://github.com/remix-run/react-router/pull/10778">#10778</a>)</li>
  <li>Fix type for <code class="language-plaintext highlighter-rouge">actionResult</code> on the arguments object passed to <code class="language-plaintext highlighter-rouge">shouldRevalidate</code> (<a href="https://github.com/remix-run/react-router/pull/10779">#10779</a>)</li>
</ul>

<h2 id="180">1.8.0</h2>

<h3 id="minor-changes-6">Minor Changes</h3>

<ul>
  <li>Add’s a new <code class="language-plaintext highlighter-rouge">redirectDocument()</code> function which allows users to specify that a redirect from a <code class="language-plaintext highlighter-rouge">loader</code>/<code class="language-plaintext highlighter-rouge">action</code> should trigger a document reload (via <code class="language-plaintext highlighter-rouge">window.location</code>) instead of attempting to navigate to the redirected location via React Router (<a href="https://github.com/remix-run/react-router/pull/10705">#10705</a>)</li>
</ul>

<h3 id="patch-changes-7">Patch Changes</h3>

<ul>
  <li>Fix an issue in <code class="language-plaintext highlighter-rouge">queryRoute</code> that was not always identifying thrown <code class="language-plaintext highlighter-rouge">Response</code> instances (<a href="https://github.com/remix-run/react-router/pull/10717">#10717</a>)</li>
  <li>Ensure hash history always includes a leading slash on hash pathnames (<a href="https://github.com/remix-run/react-router/pull/10753">#10753</a>)</li>
</ul>

<h2 id="172">1.7.2</h2>

<h3 id="patch-changes-8">Patch Changes</h3>

<ul>
  <li>Trigger an error if a <code class="language-plaintext highlighter-rouge">defer</code> promise resolves/rejects with <code class="language-plaintext highlighter-rouge">undefined</code> in order to match the behavior of loaders and actions which must return a value or <code class="language-plaintext highlighter-rouge">null</code> (<a href="https://github.com/remix-run/react-router/pull/10690">#10690</a>)</li>
  <li>Properly handle fetcher redirects interrupted by normal navigations (<a href="https://github.com/remix-run/react-router/pull/10674">#10674</a>, <a href="https://github.com/remix-run/react-router/pull/10709">#10709</a>)</li>
  <li>Initial-load fetchers should not automatically revalidate on GET navigations (<a href="https://github.com/remix-run/react-router/pull/10688">#10688</a>)</li>
  <li>Enhance the return type of <code class="language-plaintext highlighter-rouge">Route.lazy</code> to prohibit returning an empty object (<a href="https://github.com/remix-run/react-router/pull/10634">#10634</a>)</li>
</ul>

<h2 id="171">1.7.1</h2>

<h3 id="patch-changes-9">Patch Changes</h3>

<ul>
  <li>Fix issues with reused blockers on subsequent navigations (<a href="https://github.com/remix-run/react-router/pull/10656">#10656</a>)</li>
</ul>

<h2 id="170">1.7.0</h2>

<h3 id="minor-changes-7">Minor Changes</h3>

<ul>
  <li>
    <p>Add support for <code class="language-plaintext highlighter-rouge">application/json</code> and <code class="language-plaintext highlighter-rouge">text/plain</code> encodings for <code class="language-plaintext highlighter-rouge">router.navigate</code>/<code class="language-plaintext highlighter-rouge">router.fetch</code> submissions. To leverage these encodings, pass your data in a <code class="language-plaintext highlighter-rouge">body</code> parameter and specify the desired <code class="language-plaintext highlighter-rouge">formEncType</code>: (<a href="https://github.com/remix-run/react-router/pull/10413">#10413</a>)</p>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// By default, the encoding is "application/x-www-form-urlencoded"</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">navigate</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">formMethod</span><span class="p">:</span> <span class="dl">"</span><span class="s2">post</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span> <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span> <span class="p">},</span>
<span class="p">});</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">action</span><span class="p">({</span> <span class="nx">request</span> <span class="p">})</span> <span class="p">{</span>
  <span class="c1">// await request.formData() =&gt; FormData instance with entry [key=value]</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Pass `formEncType` to opt-into a different encoding (json)</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">navigate</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">formMethod</span><span class="p">:</span> <span class="dl">"</span><span class="s2">post</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">formEncType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span> <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span> <span class="p">},</span>
<span class="p">});</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">action</span><span class="p">({</span> <span class="nx">request</span> <span class="p">})</span> <span class="p">{</span>
  <span class="c1">// await request.json() =&gt; { key: "value" }</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Pass `formEncType` to opt-into a different encoding (text)</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">navigate</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">formMethod</span><span class="p">:</span> <span class="dl">"</span><span class="s2">post</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">formEncType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">text/plain</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Text submission</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">action</span><span class="p">({</span> <span class="nx">request</span> <span class="p">})</span> <span class="p">{</span>
  <span class="c1">// await request.text() =&gt; "Text submission"</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="patch-changes-10">Patch Changes</h3>

<ul>
  <li>Call <code class="language-plaintext highlighter-rouge">window.history.pushState/replaceState</code> before updating React Router state (instead of after) so that <code class="language-plaintext highlighter-rouge">window.location</code> matches <code class="language-plaintext highlighter-rouge">useLocation</code> during synchronous React 17 rendering (<a href="https://github.com/remix-run/react-router/pull/10448">#10448</a>)
    <ul>
      <li>⚠️ However, generally apps should not be relying on <code class="language-plaintext highlighter-rouge">window.location</code> and should always reference <code class="language-plaintext highlighter-rouge">useLocation</code> when possible, as <code class="language-plaintext highlighter-rouge">window.location</code> will not be in sync 100% of the time (due to <code class="language-plaintext highlighter-rouge">popstate</code> events, concurrent mode, etc.)</li>
    </ul>
  </li>
  <li>Strip <code class="language-plaintext highlighter-rouge">basename</code> from the <code class="language-plaintext highlighter-rouge">location</code> provided to <code class="language-plaintext highlighter-rouge">&lt;ScrollRestoration getKey&gt;</code> to match the <code class="language-plaintext highlighter-rouge">useLocation</code> behavior (<a href="https://github.com/remix-run/react-router/pull/10550">#10550</a>)</li>
  <li>Avoid calling <code class="language-plaintext highlighter-rouge">shouldRevalidate</code> for fetchers that have not yet completed a data load (<a href="https://github.com/remix-run/react-router/pull/10623">#10623</a>)</li>
  <li>Fix <code class="language-plaintext highlighter-rouge">unstable_useBlocker</code> key issues in <code class="language-plaintext highlighter-rouge">StrictMode</code> (<a href="https://github.com/remix-run/react-router/pull/10573">#10573</a>)</li>
  <li>Upgrade <code class="language-plaintext highlighter-rouge">typescript</code> to 5.1 (<a href="https://github.com/remix-run/react-router/pull/10581">#10581</a>)</li>
</ul>

<h2 id="163">1.6.3</h2>

<h3 id="patch-changes-11">Patch Changes</h3>

<ul>
  <li>Allow fetcher revalidations to complete if submitting fetcher is deleted (<a href="https://github.com/remix-run/react-router/pull/10535">#10535</a>)</li>
  <li>Re-throw <code class="language-plaintext highlighter-rouge">DOMException</code> (<code class="language-plaintext highlighter-rouge">DataCloneError</code>) when attempting to perform a <code class="language-plaintext highlighter-rouge">PUSH</code> navigation with non-serializable state. (<a href="https://github.com/remix-run/react-router/pull/10427">#10427</a>)</li>
  <li>Ensure revalidations happen when hash is present (<a href="https://github.com/remix-run/react-router/pull/10516">#10516</a>)</li>
  <li>upgrade jest and jsdom (<a href="https://github.com/remix-run/react-router/pull/10453">#10453</a>)</li>
</ul>

<h2 id="162">1.6.2</h2>

<h3 id="patch-changes-12">Patch Changes</h3>

<ul>
  <li>Fix HMR-driven error boundaries by properly reconstructing new routes and <code class="language-plaintext highlighter-rouge">manifest</code> in <code class="language-plaintext highlighter-rouge">\_internalSetRoutes</code> (<a href="https://github.com/remix-run/react-router/pull/10437">#10437</a>)</li>
  <li>Fix bug where initial data load would not kick off when hash is present (<a href="https://github.com/remix-run/react-router/pull/10493">#10493</a>)</li>
</ul>

<h2 id="161">1.6.1</h2>

<h3 id="patch-changes-13">Patch Changes</h3>

<ul>
  <li>Fix <code class="language-plaintext highlighter-rouge">basename</code> handling when navigating without a path (<a href="https://github.com/remix-run/react-router/pull/10433">#10433</a>)</li>
  <li>“Same hash” navigations no longer re-run loaders to match browser behavior (i.e. <code class="language-plaintext highlighter-rouge">/path#hash -&gt; /path#hash</code>) (<a href="https://github.com/remix-run/react-router/pull/10408">#10408</a>)</li>
</ul>

<h2 id="160">1.6.0</h2>

<h3 id="minor-changes-8">Minor Changes</h3>

<ul>
  <li>
    <p>Enable relative routing in the <code class="language-plaintext highlighter-rouge">@remix-run/router</code> when providing a source route ID from which the path is relative to: (<a href="https://github.com/remix-run/react-router/pull/10336">#10336</a>)</p>

    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">router.navigate("../path", { fromRouteId: "some-route" })</code>.</li>
      <li>This also applies to <code class="language-plaintext highlighter-rouge">router.fetch</code> which already receives a source route ID</li>
    </ul>
  </li>
  <li>
    <p>Introduce a new <code class="language-plaintext highlighter-rouge">@remix-run/router</code> <code class="language-plaintext highlighter-rouge">future.v7_prependBasename</code> flag to enable <code class="language-plaintext highlighter-rouge">basename</code> prefixing to all paths coming into <code class="language-plaintext highlighter-rouge">router.navigate</code> and <code class="language-plaintext highlighter-rouge">router.fetch</code>.</p>

    <ul>
      <li>Previously the <code class="language-plaintext highlighter-rouge">basename</code> was prepended in the React Router layer, but now that relative routing is being handled by the router we need prepend the <code class="language-plaintext highlighter-rouge">basename</code> <em>after</em> resolving any relative paths</li>
      <li>This also enables <code class="language-plaintext highlighter-rouge">basename</code> support in <code class="language-plaintext highlighter-rouge">useFetcher</code> as well</li>
    </ul>
  </li>
</ul>

<h3 id="patch-changes-14">Patch Changes</h3>

<ul>
  <li>Enhance <code class="language-plaintext highlighter-rouge">LoaderFunction</code>/<code class="language-plaintext highlighter-rouge">ActionFunction</code> return type to prevent <code class="language-plaintext highlighter-rouge">undefined</code> from being a valid return value (<a href="https://github.com/remix-run/react-router/pull/10267">#10267</a>)</li>
  <li>Ensure proper 404 error on <code class="language-plaintext highlighter-rouge">fetcher.load</code> call to a route without a <code class="language-plaintext highlighter-rouge">loader</code> (<a href="https://github.com/remix-run/react-router/pull/10345">#10345</a>)</li>
  <li>Deprecate the <code class="language-plaintext highlighter-rouge">createRouter</code> <code class="language-plaintext highlighter-rouge">detectErrorBoundary</code> option in favor of the new <code class="language-plaintext highlighter-rouge">mapRouteProperties</code> option for converting a framework-agnostic route to a framework-aware route. This allows us to set more than just the <code class="language-plaintext highlighter-rouge">hasErrorBoundary</code> property during route pre-processing, and is now used for mapping <code class="language-plaintext highlighter-rouge">Component -&gt; element</code> and <code class="language-plaintext highlighter-rouge">ErrorBoundary -&gt; errorElement</code> in <code class="language-plaintext highlighter-rouge">react-router</code>. (<a href="https://github.com/remix-run/react-router/pull/10287">#10287</a>)</li>
  <li>Fixed a bug where fetchers were incorrectly attempting to revalidate on search params changes or routing to the same URL (using the same logic for route <code class="language-plaintext highlighter-rouge">loader</code> revalidations). However, since fetchers have a static href, they should only revalidate on <code class="language-plaintext highlighter-rouge">action</code> submissions or <code class="language-plaintext highlighter-rouge">router.revalidate</code> calls. (<a href="https://github.com/remix-run/react-router/pull/10344">#10344</a>)</li>
  <li>Decouple <code class="language-plaintext highlighter-rouge">AbortController</code> usage between revalidating fetchers and the thing that triggered them such that the unmount/deletion of a revalidating fetcher doesn’t impact the ongoing triggering navigation/revalidation (<a href="https://github.com/remix-run/react-router/pull/10271">#10271</a>)</li>
</ul>

<h2 id="150">1.5.0</h2>

<h3 id="minor-changes-9">Minor Changes</h3>

<ul>
  <li>
    <p>Added support for <a href="https://reactrouter.com/en/main/guides/api-development-strategy"><strong>Future Flags</strong></a> in React Router. The first flag being introduced is <code class="language-plaintext highlighter-rouge">future.v7_normalizeFormMethod</code> which will normalize the exposed <code class="language-plaintext highlighter-rouge">useNavigation()/useFetcher()</code> <code class="language-plaintext highlighter-rouge">formMethod</code> fields as uppercase HTTP methods to align with the <code class="language-plaintext highlighter-rouge">fetch()</code> behavior. (<a href="https://github.com/remix-run/react-router/pull/10207">#10207</a>)</p>

    <ul>
      <li>When <code class="language-plaintext highlighter-rouge">future.v7_normalizeFormMethod === false</code> (default v6 behavior),
        <ul>
          <li><code class="language-plaintext highlighter-rouge">useNavigation().formMethod</code> is lowercase</li>
          <li><code class="language-plaintext highlighter-rouge">useFetcher().formMethod</code> is lowercase</li>
        </ul>
      </li>
      <li>When <code class="language-plaintext highlighter-rouge">future.v7_normalizeFormMethod === true</code>:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">useNavigation().formMethod</code> is uppercase</li>
          <li><code class="language-plaintext highlighter-rouge">useFetcher().formMethod</code> is uppercase</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="patch-changes-15">Patch Changes</h3>

<ul>
  <li>Provide fetcher submission to <code class="language-plaintext highlighter-rouge">shouldRevalidate</code> if the fetcher action redirects (<a href="https://github.com/remix-run/react-router/pull/10208">#10208</a>)</li>
  <li>Properly handle <code class="language-plaintext highlighter-rouge">lazy()</code> errors during router initialization (<a href="https://github.com/remix-run/react-router/pull/10201">#10201</a>)</li>
  <li>Remove <code class="language-plaintext highlighter-rouge">instanceof</code> check for <code class="language-plaintext highlighter-rouge">DeferredData</code> to be resilient to ESM/CJS boundaries in SSR bundling scenarios (<a href="https://github.com/remix-run/react-router/pull/10247">#10247</a>)</li>
  <li>Update to latest <code class="language-plaintext highlighter-rouge">@remix-run/web-fetch@4.3.3</code> (<a href="https://github.com/remix-run/react-router/pull/10216">#10216</a>)</li>
</ul>

<h2 id="140">1.4.0</h2>

<h3 id="minor-changes-10">Minor Changes</h3>

<ul>
  <li>
    <p><strong>Introducing Lazy Route Modules!</strong> (<a href="https://github.com/remix-run/react-router/pull/10045">#10045</a>)</p>

    <p>In order to keep your application bundles small and support code-splitting of your routes, we’ve introduced a new <code class="language-plaintext highlighter-rouge">lazy()</code> route property. This is an async function that resolves the non-route-matching portions of your route definition (<code class="language-plaintext highlighter-rouge">loader</code>, <code class="language-plaintext highlighter-rouge">action</code>, <code class="language-plaintext highlighter-rouge">element</code>/<code class="language-plaintext highlighter-rouge">Component</code>, <code class="language-plaintext highlighter-rouge">errorElement</code>/<code class="language-plaintext highlighter-rouge">ErrorBoundary</code>, <code class="language-plaintext highlighter-rouge">shouldRevalidate</code>, <code class="language-plaintext highlighter-rouge">handle</code>).</p>

    <p>Lazy routes are resolved on initial load and during the <code class="language-plaintext highlighter-rouge">loading</code> or <code class="language-plaintext highlighter-rouge">submitting</code> phase of a navigation or fetcher call. You cannot lazily define route-matching properties (<code class="language-plaintext highlighter-rouge">path</code>, <code class="language-plaintext highlighter-rouge">index</code>, <code class="language-plaintext highlighter-rouge">children</code>) since we only execute your lazy route functions after we’ve matched known routes.</p>

    <p>Your <code class="language-plaintext highlighter-rouge">lazy</code> functions will typically return the result of a dynamic import.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In this example, we assume most folks land on the homepage so we include that</span>
<span class="c1">// in our critical-path bundle, but then we lazily load modules for /a and /b so</span>
<span class="c1">// they don't load until the user navigates to those routes</span>
<span class="kd">let</span> <span class="nx">routes</span> <span class="o">=</span> <span class="nx">createRoutesFromElements</span><span class="p">(</span>
  <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"/"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Layout</span> <span class="p">/&gt;</span><span class="si">}</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">index</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Home</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"a"</span> <span class="na">lazy</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">"</span><span class="s2">./a</span><span class="dl">"</span><span class="p">)</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"b"</span> <span class="na">lazy</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">"</span><span class="s2">./b</span><span class="dl">"</span><span class="p">)</span><span class="si">}</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nc">Route</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div>    </div>

    <p>Then in your lazy route modules, export the properties you want defined for the route:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">loader</span><span class="p">({</span> <span class="nx">request</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetchData</span><span class="p">(</span><span class="nx">request</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">json</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Export a `Component` directly instead of needing to create a React Element from it</span>
<span class="k">export</span> <span class="kd">function</span> <span class="nx">Component</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">useLoaderData</span><span class="p">();</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>You made it!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">data</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Export an `ErrorBoundary` directly instead of needing to create a React Element from it</span>
<span class="k">export</span> <span class="kd">function</span> <span class="nx">ErrorBoundary</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">error</span> <span class="o">=</span> <span class="nx">useRouteError</span><span class="p">();</span>
  <span class="k">return</span> <span class="nx">isRouteErrorResponse</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">?</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="nx">error</span><span class="p">.</span><span class="nx">status</span><span class="si">}</span> <span class="si">{</span><span class="nx">error</span><span class="p">.</span><span class="nx">statusText</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  <span class="p">)</span> <span class="p">:</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="nx">error</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>An example of this in action can be found in the <a href="https://github.com/remix-run/react-router/tree/main/examples/lazy-loading-router-provider"><code class="language-plaintext highlighter-rouge">examples/lazy-loading-router-provider</code></a> directory of the repository.</p>

    <p>🙌 Huge thanks to @rossipedia for the <a href="https://github.com/remix-run/react-router/discussions/9826">Initial Proposal</a> and <a href="https://github.com/remix-run/react-router/pull/9830">POC Implementation</a>.</p>
  </li>
</ul>

<h3 id="patch-changes-16">Patch Changes</h3>

<ul>
  <li>Fix <code class="language-plaintext highlighter-rouge">generatePath</code> incorrectly applying parameters in some cases (<a href="https://github.com/remix-run/react-router/pull/10078">#10078</a>)</li>
</ul>

<h2 id="133">1.3.3</h2>

<h3 id="patch-changes-17">Patch Changes</h3>

<ul>
  <li>Correctly perform a hard redirect for same-origin absolute URLs outside of the router <code class="language-plaintext highlighter-rouge">basename</code> (<a href="https://github.com/remix-run/react-router/pull/10076">#10076</a>)</li>
  <li>Ensure status code and headers are maintained for <code class="language-plaintext highlighter-rouge">defer</code> loader responses in <code class="language-plaintext highlighter-rouge">createStaticHandler</code>’s <code class="language-plaintext highlighter-rouge">query()</code> method (<a href="https://github.com/remix-run/react-router/pull/10077">#10077</a>)</li>
  <li>Change <code class="language-plaintext highlighter-rouge">invariant</code> to an <code class="language-plaintext highlighter-rouge">UNSAFE_invariant</code> export since it’s only intended for internal use (<a href="https://github.com/remix-run/react-router/pull/10066">#10066</a>)</li>
  <li>Add internal API for custom HMR implementations (<a href="https://github.com/remix-run/react-router/pull/9996">#9996</a>)</li>
</ul>

<h2 id="132">1.3.2</h2>

<h3 id="patch-changes-18">Patch Changes</h3>

<ul>
  <li>Remove inaccurate console warning for POP navigations and update active blocker logic (<a href="https://github.com/remix-run/react-router/pull/10030">#10030</a>)</li>
  <li>Only check for differing origin on absolute URL redirects (<a href="https://github.com/remix-run/react-router/pull/10033">#10033</a>)</li>
</ul>

<h2 id="131">1.3.1</h2>

<h3 id="patch-changes-19">Patch Changes</h3>

<ul>
  <li>Fixes 2 separate issues for revalidating fetcher <code class="language-plaintext highlighter-rouge">shouldRevalidate</code> calls (<a href="https://github.com/remix-run/react-router/pull/9948">#9948</a>)
    <ul>
      <li>The <code class="language-plaintext highlighter-rouge">shouldRevalidate</code> function was only being called for <em>explicit</em> revalidation scenarios (after a mutation, manual <code class="language-plaintext highlighter-rouge">useRevalidator</code> call, or an <code class="language-plaintext highlighter-rouge">X-Remix-Revalidate</code> header used for cookie setting in Remix). It was not properly being called on <em>implicit</em> revalidation scenarios that also apply to navigation <code class="language-plaintext highlighter-rouge">loader</code> revalidation, such as a change in search params or clicking a link for the page we’re already on. It’s now correctly called in those additional scenarios.</li>
      <li>The parameters being passed were incorrect and inconsistent with one another since the <code class="language-plaintext highlighter-rouge">current*</code>/<code class="language-plaintext highlighter-rouge">next*</code> parameters reflected the static <code class="language-plaintext highlighter-rouge">fetcher.load</code> URL (and thus were identical). Instead, they should have reflected the the navigation that triggered the revalidation (as the <code class="language-plaintext highlighter-rouge">form*</code> parameters did). These parameters now correctly reflect the triggering navigation.</li>
    </ul>
  </li>
  <li>Respect <code class="language-plaintext highlighter-rouge">preventScrollReset</code> on <code class="language-plaintext highlighter-rouge">&lt;fetcher.Form&gt;</code> (<a href="https://github.com/remix-run/react-router/pull/9963">#9963</a>)</li>
  <li>Do not short circuit on hash change only mutation submissions (<a href="https://github.com/remix-run/react-router/pull/9944">#9944</a>)</li>
  <li>Remove <code class="language-plaintext highlighter-rouge">instanceof</code> check from <code class="language-plaintext highlighter-rouge">isRouteErrorResponse</code> to avoid bundling issues on the server (<a href="https://github.com/remix-run/react-router/pull/9930">#9930</a>)</li>
  <li>Fix navigation for hash routers on manual URL changes (<a href="https://github.com/remix-run/react-router/pull/9980">#9980</a>)</li>
  <li>Detect when a <code class="language-plaintext highlighter-rouge">defer</code> call only contains critical data and remove the <code class="language-plaintext highlighter-rouge">AbortController</code> (<a href="https://github.com/remix-run/react-router/pull/9965">#9965</a>)</li>
  <li>Send the name as the value when url-encoding <code class="language-plaintext highlighter-rouge">File</code> <code class="language-plaintext highlighter-rouge">FormData</code> entries (<a href="https://github.com/remix-run/react-router/pull/9867">#9867</a>)</li>
</ul>

<h2 id="130">1.3.0</h2>

<h3 id="minor-changes-11">Minor Changes</h3>

<ul>
  <li>Added support for navigation blocking APIs (<a href="https://github.com/remix-run/react-router/pull/9709">#9709</a>)</li>
  <li>Expose deferred information from <code class="language-plaintext highlighter-rouge">createStaticHandler</code> (<a href="https://github.com/remix-run/react-router/pull/9760">#9760</a>)</li>
</ul>

<h3 id="patch-changes-20">Patch Changes</h3>

<ul>
  <li>Improved absolute redirect url detection in actions/loaders (<a href="https://github.com/remix-run/react-router/pull/9829">#9829</a>)</li>
  <li>Fix URL creation with memory histories (<a href="https://github.com/remix-run/react-router/pull/9814">#9814</a>)</li>
  <li>Fix <code class="language-plaintext highlighter-rouge">generatePath</code> when optional params are present (<a href="https://github.com/remix-run/react-router/pull/9764">#9764</a>)</li>
  <li>Fix scroll reset if a submission redirects (<a href="https://github.com/remix-run/react-router/pull/9886">#9886</a>)</li>
  <li>Fix 404 bug with same-origin absolute redirects (<a href="https://github.com/remix-run/react-router/pull/9913">#9913</a>)</li>
  <li>Support <code class="language-plaintext highlighter-rouge">OPTIONS</code> requests in <code class="language-plaintext highlighter-rouge">staticHandler.queryRoute</code> (<a href="https://github.com/remix-run/react-router/pull/9914">#9914</a>)</li>
</ul>

<h2 id="121">1.2.1</h2>

<h3 id="patch-changes-21">Patch Changes</h3>

<ul>
  <li>Include submission info in <code class="language-plaintext highlighter-rouge">shouldRevalidate</code> on action redirects (<a href="https://github.com/remix-run/react-router/pull/9777">#9777</a>, <a href="https://github.com/remix-run/react-router/pull/9782">#9782</a>)</li>
  <li>Reset <code class="language-plaintext highlighter-rouge">actionData</code> on action redirect to current location (<a href="https://github.com/remix-run/react-router/pull/9772">#9772</a>)</li>
</ul>

<h2 id="120">1.2.0</h2>

<h3 id="minor-changes-12">Minor Changes</h3>

<ul>
  <li>Remove <code class="language-plaintext highlighter-rouge">unstable_</code> prefix from <code class="language-plaintext highlighter-rouge">createStaticHandler</code>/<code class="language-plaintext highlighter-rouge">createStaticRouter</code>/<code class="language-plaintext highlighter-rouge">StaticRouterProvider</code> (<a href="https://github.com/remix-run/react-router/pull/9738">#9738</a>)</li>
</ul>

<h3 id="patch-changes-22">Patch Changes</h3>

<ul>
  <li>Fix explicit <code class="language-plaintext highlighter-rouge">replace</code> on submissions and <code class="language-plaintext highlighter-rouge">PUSH</code> on submission to new paths (<a href="https://github.com/remix-run/react-router/pull/9734">#9734</a>)</li>
  <li>Fix a few bugs where loader/action data wasn’t properly cleared on errors (<a href="https://github.com/remix-run/react-router/pull/9735">#9735</a>)</li>
  <li>Prevent <code class="language-plaintext highlighter-rouge">useLoaderData</code> usage in <code class="language-plaintext highlighter-rouge">errorElement</code> (<a href="https://github.com/remix-run/react-router/pull/9735">#9735</a>)</li>
  <li>Skip initial scroll restoration for SSR apps with <code class="language-plaintext highlighter-rouge">hydrationData</code> (<a href="https://github.com/remix-run/react-router/pull/9664">#9664</a>)</li>
</ul>

<h2 id="110">1.1.0</h2>

<p>This release introduces support for <a href="https://github.com/remix-run/react-router/issues/9546">Optional Route Segments</a>. Now, adding a <code class="language-plaintext highlighter-rouge">?</code> to the end of any path segment will make that entire segment optional. This works for both static segments and dynamic parameters.</p>

<p><strong>Optional Params Examples</strong></p>

<ul>
  <li>Path <code class="language-plaintext highlighter-rouge">lang?/about</code> will match:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">/:lang/about</code></li>
      <li><code class="language-plaintext highlighter-rouge">/about</code></li>
    </ul>
  </li>
  <li>Path <code class="language-plaintext highlighter-rouge">/multistep/:widget1?/widget2?/widget3?</code> will match:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">/multistep</code></li>
      <li><code class="language-plaintext highlighter-rouge">/multistep/:widget1</code></li>
      <li><code class="language-plaintext highlighter-rouge">/multistep/:widget1/:widget2</code></li>
      <li><code class="language-plaintext highlighter-rouge">/multistep/:widget1/:widget2/:widget3</code></li>
    </ul>
  </li>
</ul>

<p><strong>Optional Static Segment Example</strong></p>

<ul>
  <li>Path <code class="language-plaintext highlighter-rouge">/home?</code> will match:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">/</code></li>
      <li><code class="language-plaintext highlighter-rouge">/home</code></li>
    </ul>
  </li>
  <li>Path <code class="language-plaintext highlighter-rouge">/fr?/about</code> will match:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">/about</code></li>
      <li><code class="language-plaintext highlighter-rouge">/fr/about</code></li>
    </ul>
  </li>
</ul>

<h3 id="minor-changes-13">Minor Changes</h3>

<ul>
  <li>Allows optional routes and optional static segments (<a href="https://github.com/remix-run/react-router/pull/9650">#9650</a>)</li>
</ul>

<h3 id="patch-changes-23">Patch Changes</h3>

<ul>
  <li>Stop incorrectly matching on partial named parameters, i.e. <code class="language-plaintext highlighter-rouge">&lt;Route path="prefix-:param"&gt;</code>, to align with how splat parameters work. If you were previously relying on this behavior then it’s recommended to extract the static portion of the path at the <code class="language-plaintext highlighter-rouge">useParams</code> call site: (<a href="https://github.com/remix-run/react-router/pull/9506">#9506</a>)</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Old behavior at URL /prefix-123</span>
<span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"prefix-:id"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Comp</span> <span class="p">/&gt;</span> <span class="si">}</span><span class="p">&gt;</span>

function Comp() <span class="si">{</span>
  <span class="kd">let</span> <span class="nx">params</span> <span class="o">=</span> <span class="nx">useParams</span><span class="p">();</span> <span class="c1">// { id: '123' }</span>
  <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span> <span class="c1">// "123"</span>
  <span class="p">...</span>
<span class="si">}</span>

// New behavior at URL /prefix-123
<span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">":id"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Comp</span> <span class="p">/&gt;</span> <span class="si">}</span><span class="p">&gt;</span>

function Comp() <span class="si">{</span>
  <span class="kd">let</span> <span class="nx">params</span> <span class="o">=</span> <span class="nx">useParams</span><span class="p">();</span> <span class="c1">// { id: 'prefix-123' }</span>
  <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^prefix-/</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span> <span class="c1">// "123"</span>
  <span class="p">...</span>
<span class="si">}</span>
</code></pre></div></div>

<ul>
  <li>Persist <code class="language-plaintext highlighter-rouge">headers</code> on <code class="language-plaintext highlighter-rouge">loader</code> <code class="language-plaintext highlighter-rouge">request</code>’s after SSR document <code class="language-plaintext highlighter-rouge">action</code> request (<a href="https://github.com/remix-run/react-router/pull/9721">#9721</a>)</li>
  <li>Fix requests sent to revalidating loaders so they reflect a GET request (<a href="https://github.com/remix-run/react-router/pull/9660">#9660</a>)</li>
  <li>Fix issue with deeply nested optional segments (<a href="https://github.com/remix-run/react-router/pull/9727">#9727</a>)</li>
  <li>GET forms now expose a submission on the loading navigation (<a href="https://github.com/remix-run/react-router/pull/9695">#9695</a>)</li>
  <li>Fix error boundary tracking for multiple errors bubbling to the same boundary (<a href="https://github.com/remix-run/react-router/pull/9702">#9702</a>)</li>
</ul>

<h2 id="105">1.0.5</h2>

<h3 id="patch-changes-24">Patch Changes</h3>

<ul>
  <li>Fix requests sent to revalidating loaders so they reflect a <code class="language-plaintext highlighter-rouge">GET</code> request (<a href="https://github.com/remix-run/react-router/pull/9680">#9680</a>)</li>
  <li>Remove <code class="language-plaintext highlighter-rouge">instanceof Response</code> checks in favor of <code class="language-plaintext highlighter-rouge">isResponse</code> (<a href="https://github.com/remix-run/react-router/pull/9690">#9690</a>)</li>
  <li>Fix <code class="language-plaintext highlighter-rouge">URL</code> creation in Cloudflare Pages or other non-browser-environments (<a href="https://github.com/remix-run/react-router/pull/9682">#9682</a>, <a href="https://github.com/remix-run/react-router/pull/9689">#9689</a>)</li>
  <li>Add <code class="language-plaintext highlighter-rouge">requestContext</code> support to static handler <code class="language-plaintext highlighter-rouge">query</code>/<code class="language-plaintext highlighter-rouge">queryRoute</code> (<a href="https://github.com/remix-run/react-router/pull/9696">#9696</a>)
    <ul>
      <li>Note that the unstable API of <code class="language-plaintext highlighter-rouge">queryRoute(path, routeId)</code> has been changed to <code class="language-plaintext highlighter-rouge">queryRoute(path, { routeId, requestContext })</code></li>
    </ul>
  </li>
</ul>

<h2 id="104">1.0.4</h2>

<h3 id="patch-changes-25">Patch Changes</h3>

<ul>
  <li>Throw an error if an <code class="language-plaintext highlighter-rouge">action</code>/<code class="language-plaintext highlighter-rouge">loader</code> function returns <code class="language-plaintext highlighter-rouge">undefined</code> as revalidations need to know whether the loader has previously been executed. <code class="language-plaintext highlighter-rouge">undefined</code> also causes issues during SSR stringification for hydration. You should always ensure you <code class="language-plaintext highlighter-rouge">loader</code>/<code class="language-plaintext highlighter-rouge">action</code> returns a value, and you may return <code class="language-plaintext highlighter-rouge">null</code> if you don’t wish to return anything. (<a href="https://github.com/remix-run/react-router/pull/9511">#9511</a>)</li>
  <li>Properly handle redirects to external domains (<a href="https://github.com/remix-run/react-router/pull/9590">#9590</a>, <a href="https://github.com/remix-run/react-router/pull/9654">#9654</a>)</li>
  <li>Preserve the HTTP method on 307/308 redirects (<a href="https://github.com/remix-run/react-router/pull/9597">#9597</a>)</li>
  <li>Support <code class="language-plaintext highlighter-rouge">basename</code> in static data routers (<a href="https://github.com/remix-run/react-router/pull/9591">#9591</a>)</li>
  <li>Enhanced <code class="language-plaintext highlighter-rouge">ErrorResponse</code> bodies to contain more descriptive text in internal 403/404/405 scenarios</li>
</ul>

<h2 id="103">1.0.3</h2>

<h3 id="patch-changes-26">Patch Changes</h3>

<ul>
  <li>Fix hrefs generated when using <code class="language-plaintext highlighter-rouge">createHashRouter</code> (<a href="https://github.com/remix-run/react-router/pull/9409">#9409</a>)</li>
  <li>fix encoding/matching issues with special chars (<a href="https://github.com/remix-run/react-router/pull/9477">#9477</a>, <a href="https://github.com/remix-run/react-router/pull/9496">#9496</a>)</li>
  <li>Support <code class="language-plaintext highlighter-rouge">basename</code> and relative routing in <code class="language-plaintext highlighter-rouge">loader</code>/<code class="language-plaintext highlighter-rouge">action</code> redirects (<a href="https://github.com/remix-run/react-router/pull/9447">#9447</a>)</li>
  <li>Ignore pathless layout routes when looking for proper submission <code class="language-plaintext highlighter-rouge">action</code> function (<a href="https://github.com/remix-run/react-router/pull/9455">#9455</a>)</li>
  <li>properly support <code class="language-plaintext highlighter-rouge">index</code> routes with a <code class="language-plaintext highlighter-rouge">path</code> in <code class="language-plaintext highlighter-rouge">useResolvedPath</code> (<a href="https://github.com/remix-run/react-router/pull/9486">#9486</a>)</li>
  <li>Add UMD build for <code class="language-plaintext highlighter-rouge">@remix-run/router</code> (<a href="https://github.com/remix-run/react-router/pull/9446">#9446</a>)</li>
  <li>fix <code class="language-plaintext highlighter-rouge">createURL</code> in local file execution in Firefox (<a href="https://github.com/remix-run/react-router/pull/9464">#9464</a>)</li>
  <li>Updates to <code class="language-plaintext highlighter-rouge">unstable_createStaticHandler</code> for incorporating into Remix (<a href="https://github.com/remix-run/react-router/pull/9482">#9482</a>, <a href="https://github.com/remix-run/react-router/pull/9465">#9465</a>)</li>
</ul>

<h2 id="102">1.0.2</h2>

<h3 id="patch-changes-27">Patch Changes</h3>

<ul>
  <li>Reset <code class="language-plaintext highlighter-rouge">actionData</code> after a successful action redirect (<a href="https://github.com/remix-run/react-router/pull/9334">#9334</a>)</li>
  <li>Update <code class="language-plaintext highlighter-rouge">matchPath</code> to avoid false positives on dash-separated segments (<a href="https://github.com/remix-run/react-router/pull/9300">#9300</a>)</li>
  <li>If an index route has children, it will result in a runtime error. We have strengthened our <code class="language-plaintext highlighter-rouge">RouteObject</code>/<code class="language-plaintext highlighter-rouge">RouteProps</code> types to surface the error in TypeScript. (<a href="https://github.com/remix-run/react-router/pull/9366">#9366</a>)</li>
</ul>

<h2 id="101">1.0.1</h2>

<h3 id="patch-changes-28">Patch Changes</h3>

<ul>
  <li>Preserve state from <code class="language-plaintext highlighter-rouge">initialEntries</code> (<a href="https://github.com/remix-run/react-router/pull/9288">#9288</a>)</li>
  <li>Preserve <code class="language-plaintext highlighter-rouge">?index</code> for fetcher get submissions to index routes (<a href="https://github.com/remix-run/react-router/pull/9312">#9312</a>)</li>
</ul>

<h2 id="100">1.0.0</h2>

<p>This is the first stable release of <code class="language-plaintext highlighter-rouge">@remix-run/router</code>, which provides all the underlying routing and data loading/mutation logic for <code class="language-plaintext highlighter-rouge">react-router</code>. You should <em>not</em> be using this package directly unless you are authoring a routing library similar to <code class="language-plaintext highlighter-rouge">react-router</code>.</p>

<p>For an overview of the features provided by <code class="language-plaintext highlighter-rouge">react-router</code>, we recommend you go check out the <a href="https://reactrouter.com">docs</a>, especially the <a href="https://reactrouter.com/start/overview">feature overview</a> and the <a href="https://reactrouter.com/start/tutorial">tutorial</a>.</p>

<p>For an overview of the features provided by <code class="language-plaintext highlighter-rouge">@remix-run/router</code>, please check out the <a href="https://github.com/remix-run/react-router/blob/main/packages/router/README.md"><code class="language-plaintext highlighter-rouge">README</code></a>.</p>



      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
