<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Parse, serialize, and manipulate MIME types | portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Parse, serialize, and manipulate MIME types" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/whatwg-mimetype/" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/whatwg-mimetype/" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Parse, serialize, and manipulate MIME types" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Parse, serialize, and manipulate MIME types","url":"http://localhost:4000/myportfolio.client/node_modules/whatwg-mimetype/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=059dd2210d8f0fb8d42af0cbb5c1b29e59b98886">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <h1 id="parse-serialize-and-manipulate-mime-types">Parse, serialize, and manipulate MIME types</h1>

<p>This package will parse <a href="https://mimesniff.spec.whatwg.org/#understanding-mime-types">MIME types</a> into a structured format, which can then be manipulated and serialized:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">MIMEType</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">whatwg-mimetype</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">mimeType</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MIMEType</span><span class="p">(</span><span class="s2">`Text/HTML;Charset="utf-8"`</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">text/html;charset=utf-8</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">subtype</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">html</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">essence</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">text/html</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">charset</span><span class="dl">"</span><span class="p">)</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">utf-8</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">"</span><span class="s2">charset</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">windows-1252</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">charset</span><span class="dl">"</span><span class="p">)</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">windows-1252</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">text/html;charset=windows-1252</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">isHTML</span><span class="p">()</span> <span class="o">===</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">isXML</span><span class="p">()</span> <span class="o">===</span> <span class="kc">false</span><span class="p">);</span>
</code></pre></div></div>

<p>Parsing is a fairly complex process; see <a href="https://mimesniff.spec.whatwg.org/#parsing-a-mime-type">the specification</a> for details (and similarly <a href="https://mimesniff.spec.whatwg.org/#serializing-a-mime-type">for serialization</a>).</p>

<p>This package’s algorithms conform to those of the WHATWG <a href="https://mimesniff.spec.whatwg.org/">MIME Sniffing Standard</a>, and is aligned up to commit <a href="https://github.com/whatwg/mimesniff/commit/126286ab2dcf3e2d541349ed93539a88bf394ad5">126286a</a>.</p>

<h2 id="mimetype-api"><code class="language-plaintext highlighter-rouge">MIMEType</code> API</h2>

<p>This package’s main module’s default export is a class, <code class="language-plaintext highlighter-rouge">MIMEType</code>. Its constructor takes a string which it will attempt to parse into a MIME type; if parsing fails, an <code class="language-plaintext highlighter-rouge">Error</code> will be thrown.</p>

<h3 id="the-parse-static-factory-method">The <code class="language-plaintext highlighter-rouge">parse()</code> static factory method</h3>

<p>As an alternative to the constructor, you can use <code class="language-plaintext highlighter-rouge">MIMEType.parse(string)</code>. The only difference is that <code class="language-plaintext highlighter-rouge">parse()</code> will return <code class="language-plaintext highlighter-rouge">null</code> on failed parsing, whereas the constructor will throw. It thus makes the most sense to use the constructor in cases where unparseable MIME types would be exceptional, and use <code class="language-plaintext highlighter-rouge">parse()</code> when dealing with input from some unconstrained source.</p>

<h3 id="properties">Properties</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">type</code>: the MIME type’s <a href="https://mimesniff.spec.whatwg.org/#mime-type-type">type</a>, e.g. <code class="language-plaintext highlighter-rouge">"text"</code></li>
  <li><code class="language-plaintext highlighter-rouge">subtype</code>: the MIME type’s <a href="https://mimesniff.spec.whatwg.org/#mime-type-subtype">subtype</a>, e.g. <code class="language-plaintext highlighter-rouge">"html"</code></li>
  <li><code class="language-plaintext highlighter-rouge">essence</code>: the MIME type’s <a href="https://mimesniff.spec.whatwg.org/#mime-type-essence">essence</a>, e.g. <code class="language-plaintext highlighter-rouge">"text/html"</code></li>
  <li><code class="language-plaintext highlighter-rouge">parameters</code>: an instance of <code class="language-plaintext highlighter-rouge">MIMETypeParameters</code>, containing this MIME type’s <a href="https://mimesniff.spec.whatwg.org/#mime-type-parameters">parameters</a></li>
</ul>

<p><code class="language-plaintext highlighter-rouge">type</code> and <code class="language-plaintext highlighter-rouge">subtype</code> can be changed. They will be validated to be non-empty and only contain <a href="https://mimesniff.spec.whatwg.org/#http-token-code-point">HTTP token code points</a>.</p>

<p><code class="language-plaintext highlighter-rouge">essence</code> is only a getter, and cannot be changed.</p>

<p><code class="language-plaintext highlighter-rouge">parameters</code> is also a getter, but the contents of the <code class="language-plaintext highlighter-rouge">MIMETypeParameters</code> object are mutable, as described below.</p>

<h3 id="methods">Methods</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">toString()</code> serializes the MIME type to a string</li>
  <li><code class="language-plaintext highlighter-rouge">isHTML()</code>: returns true if this instance represents <a href="https://mimesniff.spec.whatwg.org/#html-mime-type">a HTML MIME type</a></li>
  <li><code class="language-plaintext highlighter-rouge">isXML()</code>: returns true if this instance represents <a href="https://mimesniff.spec.whatwg.org/#xml-mime-type">an XML MIME type</a></li>
  <li><code class="language-plaintext highlighter-rouge">isJavaScript({ allowParameters })</code>: returns true if this instance represents <a href="https://html.spec.whatwg.org/multipage/scripting.html#javascript-mime-type">a JavaScript MIME type</a>; <code class="language-plaintext highlighter-rouge">allowParameters</code> can be set to true to allow arbitrary parameters, instead of their presence causing the method to return <code class="language-plaintext highlighter-rouge">false</code></li>
</ul>

<p><em>Note: the <code class="language-plaintext highlighter-rouge">isHTML()</code>, <code class="language-plaintext highlighter-rouge">isXML()</code>, and <code class="language-plaintext highlighter-rouge">isJavaScript()</code> methods are speculative, and may be removed or changed in future major versions. See <a href="https://github.com/whatwg/mimesniff/issues/48">whatwg/mimesniff#48</a> for brainstorming in this area. Currently we implement these mainly because they are useful in jsdom.</em></p>

<h2 id="mimetypeparameters-api"><code class="language-plaintext highlighter-rouge">MIMETypeParameters</code> API</h2>

<p>The <code class="language-plaintext highlighter-rouge">MIMETypeParameters</code> class, instances of which are returned by <code class="language-plaintext highlighter-rouge">mimeType.parameters</code>, has equivalent surface API to a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">JavaScript <code class="language-plaintext highlighter-rouge">Map</code></a>.</p>

<p>However, <code class="language-plaintext highlighter-rouge">MIMETypeParameters</code> methods will always interpret their arguments as appropriate for MIME types, so e.g. parameter names will be lowercased, and attempting to set invalid characters will throw.</p>

<p>Some examples:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">mimeType</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MIMEType</span><span class="p">(</span><span class="s2">`x/x;a=b;c=D;E="F"`</span><span class="p">);</span>

<span class="c1">// Logs:</span>
<span class="c1">// a b</span>
<span class="c1">// c D</span>
<span class="c1">// e F</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="p">[</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">]</span> <span class="k">of</span> <span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="dl">"</span><span class="s2">A</span><span class="dl">"</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">A</span><span class="dl">"</span><span class="p">)</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">b</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">"</span><span class="s2">Q</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">X</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">q</span><span class="dl">"</span><span class="p">)</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">X</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">mimeType</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">x/x;a=b;c=d;e=F;q=X</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">// Throws:</span>
<span class="nx">mimeType</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">"</span><span class="s2">@</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">x</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="raw-parsingserialization-apis">Raw parsing/serialization APIs</h2>

<p>If you want primitives on which to build your own API, you can get direct access to the parsing and serialization algorithms as follows:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">parse</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">whatwg-mimetype/parser</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">serialize</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">whatwg-mimetype/serialize</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">parse(string)</code> returns an object containing the <code class="language-plaintext highlighter-rouge">type</code> and <code class="language-plaintext highlighter-rouge">subtype</code> strings, plus <code class="language-plaintext highlighter-rouge">parameters</code>, which is a <code class="language-plaintext highlighter-rouge">Map</code>. This is roughly our equivalent of the spec’s <a href="https://mimesniff.spec.whatwg.org/#mime-type">MIME type record</a>. If parsing fails, it instead returns <code class="language-plaintext highlighter-rouge">null</code>.</p>

<p><code class="language-plaintext highlighter-rouge">serialize(record)</code> operates on the such an object, giving back a string according to the serialization algorithm.</p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
