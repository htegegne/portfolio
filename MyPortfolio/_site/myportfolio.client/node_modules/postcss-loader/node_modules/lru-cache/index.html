<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>lru cache | portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="lru cache" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/postcss-loader/node_modules/lru-cache/" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/postcss-loader/node_modules/lru-cache/" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="lru cache" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"lru cache","url":"http://localhost:4000/myportfolio.client/node_modules/postcss-loader/node_modules/lru-cache/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=059dd2210d8f0fb8d42af0cbb5c1b29e59b98886">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <h1 id="lru-cache">lru cache</h1>

<p>A cache object that deletes the least-recently-used items.</p>

<p><a href="https://travis-ci.org/isaacs/node-lru-cache"><img src="https://travis-ci.org/isaacs/node-lru-cache.svg?branch=master" alt="Build Status" /></a> <a href="https://coveralls.io/github/isaacs/node-lru-cache"><img src="https://coveralls.io/repos/isaacs/node-lru-cache/badge.svg?service=github" alt="Coverage Status" /></a></p>

<h2 id="installation">Installation:</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">lru</span><span class="o">-</span><span class="nx">cache</span> <span class="o">--</span><span class="nx">save</span>
</code></pre></div></div>

<h2 id="usage">Usage:</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">LRU</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">lru-cache</span><span class="dl">"</span><span class="p">)</span>
  <span class="p">,</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">max</span><span class="p">:</span> <span class="mi">500</span>
              <span class="p">,</span> <span class="na">length</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">n</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="nx">key</span><span class="p">.</span><span class="nx">length</span> <span class="p">}</span>
              <span class="p">,</span> <span class="na">dispose</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="nx">n</span><span class="p">.</span><span class="nx">close</span><span class="p">()</span> <span class="p">}</span>
              <span class="p">,</span> <span class="na">maxAge</span><span class="p">:</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="p">}</span>
  <span class="p">,</span> <span class="nx">cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LRU</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">,</span> <span class="nx">otherCache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LRU</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="c1">// sets just the max size</span>

<span class="nx">cache</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">"</span><span class="s2">key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">)</span>
<span class="nx">cache</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">key</span><span class="dl">"</span><span class="p">)</span> <span class="c1">// "value"</span>

<span class="c1">// non-string keys ARE fully supported</span>
<span class="c1">// but note that it must be THE SAME object, not</span>
<span class="c1">// just a JSON-equivalent object.</span>
<span class="kd">var</span> <span class="nx">someObject</span> <span class="o">=</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="mi">1</span> <span class="p">}</span>
<span class="nx">cache</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">someObject</span><span class="p">,</span> <span class="dl">'</span><span class="s1">a value</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// Object keys are not toString()-ed</span>
<span class="nx">cache</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="dl">'</span><span class="s1">[object Object]</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">a different value</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">cache</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">someObject</span><span class="p">),</span> <span class="dl">'</span><span class="s1">a value</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// A similar object with same keys/values won't work,</span>
<span class="c1">// because it's a different object identity</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">cache</span><span class="p">.</span><span class="kd">get</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="mi">1</span> <span class="p">}),</span> <span class="kc">undefined</span><span class="p">)</span>

<span class="nx">cache</span><span class="p">.</span><span class="nx">reset</span><span class="p">()</span>    <span class="c1">// empty the cache</span>
</code></pre></div></div>

<p>If you put more stuff in it, then items will fall out.</p>

<p>If you try to put an oversized thing in it, then it’ll fall out right
away.</p>

<h2 id="options">Options</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">max</code> The maximum size of the cache, checked by applying the length
function to all values in the cache.  Not setting this is kind of
silly, since that’s the whole purpose of this lib, but it defaults
to <code class="language-plaintext highlighter-rouge">Infinity</code>.  Setting it to a non-number or negative number will
throw a <code class="language-plaintext highlighter-rouge">TypeError</code>.  Setting it to 0 makes it be <code class="language-plaintext highlighter-rouge">Infinity</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">maxAge</code> Maximum age in ms.  Items are not pro-actively pruned out
as they age, but if you try to get an item that is too old, it’ll
drop it and return undefined instead of giving it to you.
Setting this to a negative value will make everything seem old!
Setting it to a non-number will throw a <code class="language-plaintext highlighter-rouge">TypeError</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">length</code> Function that is used to calculate the length of stored
items.  If you’re storing strings or buffers, then you probably want
to do something like <code class="language-plaintext highlighter-rouge">function(n, key){return n.length}</code>.  The default is
<code class="language-plaintext highlighter-rouge">function(){return 1}</code>, which is fine if you want to store <code class="language-plaintext highlighter-rouge">max</code>
like-sized things.  The item is passed as the first argument, and
the key is passed as the second argumnet.</li>
  <li><code class="language-plaintext highlighter-rouge">dispose</code> Function that is called on items when they are dropped
from the cache.  This can be handy if you want to close file
descriptors or do other cleanup tasks when items are no longer
accessible.  Called with <code class="language-plaintext highlighter-rouge">key, value</code>.  It’s called <em>before</em>
actually removing the item from the internal cache, so if you want
to immediately put it back in, you’ll have to do that in a
<code class="language-plaintext highlighter-rouge">nextTick</code> or <code class="language-plaintext highlighter-rouge">setTimeout</code> callback or it won’t do anything.</li>
  <li><code class="language-plaintext highlighter-rouge">stale</code> By default, if you set a <code class="language-plaintext highlighter-rouge">maxAge</code>, it’ll only actually pull
stale items out of the cache when you <code class="language-plaintext highlighter-rouge">get(key)</code>.  (That is, it’s
not pre-emptively doing a <code class="language-plaintext highlighter-rouge">setTimeout</code> or anything.)  If you set
<code class="language-plaintext highlighter-rouge">stale:true</code>, it’ll return the stale value before deleting it.  If
you don’t set this, then it’ll return <code class="language-plaintext highlighter-rouge">undefined</code> when you try to
get a stale entry, as if it had already been deleted.</li>
  <li><code class="language-plaintext highlighter-rouge">noDisposeOnSet</code> By default, if you set a <code class="language-plaintext highlighter-rouge">dispose()</code> method, then
it’ll be called whenever a <code class="language-plaintext highlighter-rouge">set()</code> operation overwrites an existing
key.  If you set this option, <code class="language-plaintext highlighter-rouge">dispose()</code> will only be called when a
key falls out of the cache, not when it is overwritten.</li>
  <li><code class="language-plaintext highlighter-rouge">updateAgeOnGet</code> When using time-expiring entries with <code class="language-plaintext highlighter-rouge">maxAge</code>,
setting this to <code class="language-plaintext highlighter-rouge">true</code> will make each item’s effective time update
to the current time whenever it is retrieved from cache, causing it
to not expire.  (It can still fall out of cache based on recency of
use, of course.)</li>
</ul>

<h2 id="api">API</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">set(key, value, maxAge)</code></li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">get(key) =&gt; value</code></p>

    <p>Both of these will update the “recently used”-ness of the key.
  They do what you think. <code class="language-plaintext highlighter-rouge">maxAge</code> is optional and overrides the
  cache <code class="language-plaintext highlighter-rouge">maxAge</code> option if provided.</p>

    <p>If the key is not found, <code class="language-plaintext highlighter-rouge">get()</code> will return <code class="language-plaintext highlighter-rouge">undefined</code>.</p>

    <p>The key and val can be any value.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">peek(key)</code></p>

    <p>Returns the key value (or <code class="language-plaintext highlighter-rouge">undefined</code> if not found) without
  updating the “recently used”-ness of the key.</p>

    <p>(If you find yourself using this a lot, you <em>might</em> be using the
  wrong sort of data structure, but there are some use cases where
  it’s handy.)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">del(key)</code></p>

    <p>Deletes a key out of the cache.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">reset()</code></p>

    <p>Clear the cache entirely, throwing away all values.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">has(key)</code></p>

    <p>Check if a key is in the cache, without updating the recent-ness
  or deleting it for being stale.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">forEach(function(value,key,cache), [thisp])</code></p>

    <p>Just like <code class="language-plaintext highlighter-rouge">Array.prototype.forEach</code>.  Iterates over all the keys
  in the cache, in order of recent-ness.  (Ie, more recently used
  items are iterated over first.)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">rforEach(function(value,key,cache), [thisp])</code></p>

    <p>The same as <code class="language-plaintext highlighter-rouge">cache.forEach(...)</code> but items are iterated over in
  reverse order.  (ie, less recently used items are iterated over
  first.)</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">keys()</code></p>

    <p>Return an array of the keys in the cache.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">values()</code></p>

    <p>Return an array of the values in the cache.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">length</code></p>

    <p>Return total length of objects in cache taking into account
  <code class="language-plaintext highlighter-rouge">length</code> options function.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">itemCount</code></p>

    <p>Return total quantity of objects currently in cache. Note, that
  <code class="language-plaintext highlighter-rouge">stale</code> (see options) items are returned as part of this item
  count.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dump()</code></p>

    <p>Return an array of the cache entries ready for serialization and usage
  with ‘destinationCache.load(arr)`.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">load(cacheEntriesArray)</code></p>

    <p>Loads another cache entries array, obtained with <code class="language-plaintext highlighter-rouge">sourceCache.dump()</code>,
  into the cache. The destination cache is reset before loading new entries</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">prune()</code></p>

    <p>Manually iterates over the entire cache proactively pruning old entries</p>
  </li>
</ul>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
