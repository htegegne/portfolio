<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>whatwg-url | portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="whatwg-url" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/whatwg-url/" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/whatwg-url/" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="whatwg-url" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"whatwg-url","url":"http://localhost:4000/myportfolio.client/node_modules/whatwg-url/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=059dd2210d8f0fb8d42af0cbb5c1b29e59b98886">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <h1 id="whatwg-url">whatwg-url</h1>

<p>whatwg-url is a full implementation of the WHATWG <a href="https://url.spec.whatwg.org/">URL Standard</a>. It can be used standalone, but it also exposes a lot of the internal algorithms that are useful for integrating a URL parser into a project like <a href="https://github.com/jsdom/jsdom">jsdom</a>.</p>

<h2 id="specification-conformance">Specification conformance</h2>

<p>whatwg-url is currently up to date with the URL spec up to commit <a href="https://github.com/whatwg/url/commit/0672f2e2ef43aca18b59d90abb6dac21712399bb">0672f2e</a>.</p>

<p>For <code class="language-plaintext highlighter-rouge">file:</code> URLs, whose <a href="https://url.spec.whatwg.org/#concept-url-origin">origin is left unspecified</a>, whatwg-url chooses to use a new opaque origin (which serializes to <code class="language-plaintext highlighter-rouge">"null"</code>).</p>

<p>whatwg-url does not yet implement any encoding handling beyond UTF-8. That is, the <em>encoding override</em> parameter does not exist in our API.</p>

<h2 id="api">API</h2>

<h3 id="the-url-and-urlsearchparams-classes">The <code class="language-plaintext highlighter-rouge">URL</code> and <code class="language-plaintext highlighter-rouge">URLSearchParams</code> classes</h3>

<p>The main API is provided by the <a href="https://url.spec.whatwg.org/#url-class"><code class="language-plaintext highlighter-rouge">URL</code></a> and <a href="https://url.spec.whatwg.org/#interface-urlsearchparams"><code class="language-plaintext highlighter-rouge">URLSearchParams</code></a> exports, which follows the spec’s behavior in all ways (including e.g. <code class="language-plaintext highlighter-rouge">USVString</code> conversion). Most consumers of this library will want to use these.</p>

<h3 id="low-level-url-standard-api">Low-level URL Standard API</h3>

<p>The following methods are exported for use by places like jsdom that need to implement things like <a href="https://html.spec.whatwg.org/#htmlhyperlinkelementutils"><code class="language-plaintext highlighter-rouge">HTMLHyperlinkElementUtils</code></a>. They mostly operate on or return an “internal URL” or <a href="https://url.spec.whatwg.org/#concept-url">“URL record”</a> type.</p>

<ul>
  <li><a href="https://url.spec.whatwg.org/#concept-url-parser">URL parser</a>: <code class="language-plaintext highlighter-rouge">parseURL(input, { baseURL })</code></li>
  <li><a href="https://url.spec.whatwg.org/#concept-basic-url-parser">Basic URL parser</a>: <code class="language-plaintext highlighter-rouge">basicURLParse(input, { baseURL, url, stateOverride })</code></li>
  <li><a href="https://url.spec.whatwg.org/#concept-url-serializer">URL serializer</a>: <code class="language-plaintext highlighter-rouge">serializeURL(urlRecord, excludeFragment)</code></li>
  <li><a href="https://url.spec.whatwg.org/#concept-host-serializer">Host serializer</a>: <code class="language-plaintext highlighter-rouge">serializeHost(hostFromURLRecord)</code></li>
  <li><a href="https://url.spec.whatwg.org/#serialize-an-integer">Serialize an integer</a>: <code class="language-plaintext highlighter-rouge">serializeInteger(number)</code></li>
  <li><a href="https://url.spec.whatwg.org/#concept-url-origin">Origin</a> <a href="https://html.spec.whatwg.org/multipage/origin.html#ascii-serialisation-of-an-origin">serializer</a>: <code class="language-plaintext highlighter-rouge">serializeURLOrigin(urlRecord)</code></li>
  <li><a href="https://url.spec.whatwg.org/#set-the-username">Set the username</a>: <code class="language-plaintext highlighter-rouge">setTheUsername(urlRecord, usernameString)</code></li>
  <li><a href="https://url.spec.whatwg.org/#set-the-password">Set the password</a>: <code class="language-plaintext highlighter-rouge">setThePassword(urlRecord, passwordString)</code></li>
  <li><a href="https://url.spec.whatwg.org/#cannot-have-a-username-password-port">Cannot have a username/password/port</a>: <code class="language-plaintext highlighter-rouge">cannotHaveAUsernamePasswordPort(urlRecord)</code></li>
  <li><a href="https://url.spec.whatwg.org/#percent-decode">Percent decode</a>: <code class="language-plaintext highlighter-rouge">percentDecode(buffer)</code></li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">stateOverride</code> parameter is one of the following strings:</p>

<ul>
  <li><a href="https://url.spec.whatwg.org/#scheme-start-state"><code class="language-plaintext highlighter-rouge">"scheme start"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#scheme-state"><code class="language-plaintext highlighter-rouge">"scheme"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#no-scheme-state"><code class="language-plaintext highlighter-rouge">"no scheme"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#special-relative-or-authority-state"><code class="language-plaintext highlighter-rouge">"special relative or authority"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#path-or-authority-state"><code class="language-plaintext highlighter-rouge">"path or authority"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#relative-state"><code class="language-plaintext highlighter-rouge">"relative"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#relative-slash-state"><code class="language-plaintext highlighter-rouge">"relative slash"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#special-authority-slashes-state"><code class="language-plaintext highlighter-rouge">"special authority slashes"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#special-authority-ignore-slashes-state"><code class="language-plaintext highlighter-rouge">"special authority ignore slashes"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#authority-state"><code class="language-plaintext highlighter-rouge">"authority"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#host-state"><code class="language-plaintext highlighter-rouge">"host"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#hostname-state"><code class="language-plaintext highlighter-rouge">"hostname"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#port-state"><code class="language-plaintext highlighter-rouge">"port"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#file-state"><code class="language-plaintext highlighter-rouge">"file"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#file-slash-state"><code class="language-plaintext highlighter-rouge">"file slash"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#file-host-state"><code class="language-plaintext highlighter-rouge">"file host"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#path-start-state"><code class="language-plaintext highlighter-rouge">"path start"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#path-state"><code class="language-plaintext highlighter-rouge">"path"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#cannot-be-a-base-url-path-state"><code class="language-plaintext highlighter-rouge">"cannot-be-a-base-URL path"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#query-state"><code class="language-plaintext highlighter-rouge">"query"</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#fragment-state"><code class="language-plaintext highlighter-rouge">"fragment"</code></a></li>
</ul>

<p>The URL record type has the following API:</p>

<ul>
  <li><a href="https://url.spec.whatwg.org/#concept-url-scheme"><code class="language-plaintext highlighter-rouge">scheme</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#concept-url-username"><code class="language-plaintext highlighter-rouge">username</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#concept-url-password"><code class="language-plaintext highlighter-rouge">password</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#concept-url-host"><code class="language-plaintext highlighter-rouge">host</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#concept-url-port"><code class="language-plaintext highlighter-rouge">port</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#concept-url-path"><code class="language-plaintext highlighter-rouge">path</code></a> (as an array)</li>
  <li><a href="https://url.spec.whatwg.org/#concept-url-query"><code class="language-plaintext highlighter-rouge">query</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#concept-url-fragment"><code class="language-plaintext highlighter-rouge">fragment</code></a></li>
  <li><a href="https://url.spec.whatwg.org/#url-cannot-be-a-base-url-flag"><code class="language-plaintext highlighter-rouge">cannotBeABaseURL</code></a> (as a boolean)</li>
</ul>

<p>These properties should be treated with care, as in general changing them will cause the URL record to be in an inconsistent state until the appropriate invocation of <code class="language-plaintext highlighter-rouge">basicURLParse</code> is used to fix it up. You can see examples of this in the URL Standard, where there are many step sequences like “4. Set context object’s url’s fragment to the empty string. 5. Basic URL parse <em>input</em> with context object’s url as <em>url</em> and fragment state as <em>state override</em>.” In between those two steps, a URL record is in an unusable state.</p>

<p>The return value of “failure” in the spec is represented by <code class="language-plaintext highlighter-rouge">null</code>. That is, functions like <code class="language-plaintext highlighter-rouge">parseURL</code> and <code class="language-plaintext highlighter-rouge">basicURLParse</code> can return <em>either</em> a URL record <em>or</em> <code class="language-plaintext highlighter-rouge">null</code>.</p>

<h3 id="whatwg-urlwebidl2js-wrapper-module"><code class="language-plaintext highlighter-rouge">whatwg-url/webidl2js-wrapper</code> module</h3>

<p>This module exports the <code class="language-plaintext highlighter-rouge">URL</code> and <code class="language-plaintext highlighter-rouge">URLSearchParams</code> <a href="https://github.com/jsdom/webidl2js#for-interfaces">interface wrappers API</a> generated by <a href="https://github.com/jsdom/webidl2js">webidl2js</a>.</p>

<h2 id="development-instructions">Development instructions</h2>

<p>First, install <a href="https://nodejs.org/">Node.js</a>. Then, fetch the dependencies of whatwg-url, by running from this directory:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install
</code></pre></div></div>

<p>To run tests:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm test
</code></pre></div></div>

<p>To generate a coverage report:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run coverage
</code></pre></div></div>

<p>To build and run the live viewer:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run prepare
npm run build-live-viewer
</code></pre></div></div>

<p>Serve the contents of the <code class="language-plaintext highlighter-rouge">live-viewer</code> directory using any web server.</p>

<h2 id="supporting-whatwg-url">Supporting whatwg-url</h2>

<p>The jsdom project (including whatwg-url) is a community-driven project maintained by a team of <a href="https://github.com/orgs/jsdom/people">volunteers</a>. You could support us by:</p>

<ul>
  <li><a href="https://tidelift.com/subscription/pkg/npm-whatwg-url?utm_source=npm-whatwg-url&amp;utm_medium=referral&amp;utm_campaign=readme">Getting professional support for whatwg-url</a> as part of a Tidelift subscription. Tidelift helps making open source sustainable for us while giving teams assurances for maintenance, licensing, and security.</li>
  <li>Contributing directly to the project.</li>
</ul>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
