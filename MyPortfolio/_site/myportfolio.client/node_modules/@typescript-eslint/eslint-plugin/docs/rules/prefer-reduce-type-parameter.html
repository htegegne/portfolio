<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="portfolio" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Enforce using type parameter when calling Array#reduce instead of casting." />
<meta property="og:description" content="Enforce using type parameter when calling Array#reduce instead of casting." />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/@typescript-eslint/eslint-plugin/docs/rules/prefer-reduce-type-parameter.html" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/@typescript-eslint/eslint-plugin/docs/rules/prefer-reduce-type-parameter.html" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="portfolio" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Enforce using type parameter when calling Array#reduce instead of casting.","headline":"portfolio","url":"http://localhost:4000/myportfolio.client/node_modules/@typescript-eslint/eslint-plugin/docs/rules/prefer-reduce-type-parameter.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=059dd2210d8f0fb8d42af0cbb5c1b29e59b98886">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <blockquote>
  <p>üõë This file is source code, not the primary documentation location! üõë</p>

  <p>See <strong>https://typescript-eslint.io/rules/prefer-reduce-type-parameter</strong> for documentation.</p>
</blockquote>

<p>It‚Äôs common to call <code class="language-plaintext highlighter-rouge">Array#reduce</code> with a generic type, such as an array or object, as the initial value.
Since these values are empty, their types are not usable:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">[]</code> has type <code class="language-plaintext highlighter-rouge">never[]</code>, which can‚Äôt have items pushed into it as nothing is type <code class="language-plaintext highlighter-rouge">never</code></li>
  <li><code class="language-plaintext highlighter-rouge">{}</code> has type <code class="language-plaintext highlighter-rouge">{}</code>, which doesn‚Äôt have an index signature and so can‚Äôt have properties added to it</li>
</ul>

<p>A common solution to this problem is to use an <code class="language-plaintext highlighter-rouge">as</code> assertion on the initial value.
While this will work, it‚Äôs not the most optimal solution as type assertions have subtle effects on the underlying types that can allow bugs to slip in.</p>

<p>A better solution is to pass the type in as a generic type argument to <code class="language-plaintext highlighter-rouge">Array#reduce</code> explicitly.
This means that TypeScript doesn‚Äôt have to try to infer the type, and avoids the common pitfalls that come with casting.</p>

<p>This rule looks for calls to <code class="language-plaintext highlighter-rouge">Array#reduce</code>, and reports if an initial value is being passed &amp; asserted.
It will suggest instead pass the asserted type to <code class="language-plaintext highlighter-rouge">Array#reduce</code> as a generic type argument.</p>

<h2 id="examples">Examples</h2>

<!--tabs-->

<h3 id="-incorrect">‚ùå Incorrect</h3>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span> <span class="p">[]</span> <span class="k">as</span> <span class="kr">number</span><span class="p">[]);</span>

<span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">].</span><span class="nx">reduce</span><span class="p">(</span>
  <span class="p">(</span><span class="nx">accum</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="p">...</span><span class="nx">accum</span><span class="p">,</span>
    <span class="p">[</span><span class="nx">name</span><span class="p">]:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">}),</span>
  <span class="p">{}</span> <span class="k">as</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="nx">boolean</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="-correct">‚úÖ Correct</h3>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">reduce</span><span class="o">&lt;</span><span class="kr">number</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">((</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">num</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span> <span class="p">[]);</span>

<span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">].</span><span class="nx">reduce</span><span class="o">&lt;</span><span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="nx">boolean</span><span class="o">&gt;&gt;</span><span class="p">(</span>
  <span class="p">(</span><span class="nx">accum</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="p">...</span><span class="nx">accum</span><span class="p">,</span>
    <span class="p">[</span><span class="nx">name</span><span class="p">]:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">}),</span>
  <span class="p">{},</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="when-not-to-use-it">When Not To Use It</h2>

<p>If you don‚Äôt want to use typechecking in your linting, you can‚Äôt use this rule.</p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
