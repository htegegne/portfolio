<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>portfolio</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="portfolio" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Disallow Promises in places not designed to handle them." />
<meta property="og:description" content="Disallow Promises in places not designed to handle them." />
<link rel="canonical" href="http://localhost:4000/myportfolio.client/node_modules/@typescript-eslint/eslint-plugin/docs/rules/no-misused-promises.html" />
<meta property="og:url" content="http://localhost:4000/myportfolio.client/node_modules/@typescript-eslint/eslint-plugin/docs/rules/no-misused-promises.html" />
<meta property="og:site_name" content="portfolio" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="portfolio" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Disallow Promises in places not designed to handle them.","headline":"portfolio","url":"http://localhost:4000/myportfolio.client/node_modules/@typescript-eslint/eslint-plugin/docs/rules/no-misused-promises.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=00c08f3bd19ad2390c706d50e4f8968f8b47944c">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">portfolio</a></h1>
      

      <blockquote>
  <p>üõë This file is source code, not the primary documentation location! üõë</p>

  <p>See <strong>https://typescript-eslint.io/rules/no-misused-promises</strong> for documentation.</p>
</blockquote>

<p>This rule forbids providing Promises to logical locations such as if statements in places where the TypeScript compiler allows them but they are not handled properly.
These situations can often arise due to a missing <code class="language-plaintext highlighter-rouge">await</code> keyword or just a misunderstanding of the way async
functions are handled/awaited.</p>

<p>:::tip
<code class="language-plaintext highlighter-rouge">no-misused-promises</code> only detects code that provides Promises to incorrect <em>logical</em> locations.
See <a href="/myportfolio.client/node_modules/@typescript-eslint/eslint-plugin/docs/rules/no-floating-promises.html"><code class="language-plaintext highlighter-rouge">no-floating-promises</code></a> for detecting unhandled Promise <em>statements</em>.
:::</p>

<h2 id="options">Options</h2>

<h3 id="checksconditionals"><code class="language-plaintext highlighter-rouge">"checksConditionals"</code></h3>

<p>If you don‚Äôt want to check conditionals, you can configure the rule with <code class="language-plaintext highlighter-rouge">"checksConditionals": false</code>:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@typescript-eslint/no-misused-promises"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"checksConditionals"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Doing so prevents the rule from looking at code like <code class="language-plaintext highlighter-rouge">if (somePromise)</code>.</p>

<p>Examples of code for this rule with <code class="language-plaintext highlighter-rouge">checksConditionals: true</code>:</p>

<!--tabs-->

<h4 id="-incorrect">‚ùå Incorrect</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="dl">'</span><span class="s1">value</span><span class="dl">'</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">promise</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do something</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">promise</span> <span class="p">?</span> <span class="mi">123</span> <span class="p">:</span> <span class="mi">456</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">promise</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do something</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="-correct">‚úÖ Correct</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="dl">'</span><span class="s1">value</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Always `await` the Promise in a conditional</span>
<span class="k">if</span> <span class="p">(</span><span class="k">await</span> <span class="nx">promise</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do something</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="nx">promise</span><span class="p">)</span> <span class="p">?</span> <span class="mi">123</span> <span class="p">:</span> <span class="mi">456</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="k">await</span> <span class="nx">promise</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Do something</span>
<span class="p">}</span>
</code></pre></div></div>

<!--/tabs-->

<h3 id="checksvoidreturn"><code class="language-plaintext highlighter-rouge">"checksVoidReturn"</code></h3>

<p>Likewise, if you don‚Äôt want functions that return promises where a void return is
expected to be checked, your configuration will look like this:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@typescript-eslint/no-misused-promises"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"checksVoidReturn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>You can disable selective parts of the <code class="language-plaintext highlighter-rouge">checksVoidReturn</code> option by providing an object that disables specific checks.
The following options are supported:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">arguments</code>: Disables checking an asynchronous function passed as argument where the parameter type expects a function that returns <code class="language-plaintext highlighter-rouge">void</code></li>
  <li><code class="language-plaintext highlighter-rouge">attributes</code>: Disables checking an asynchronous function passed as a JSX attribute expected to be a function that returns <code class="language-plaintext highlighter-rouge">void</code></li>
  <li><code class="language-plaintext highlighter-rouge">properties</code>: Disables checking an asynchronous function passed as an object property expected to be a function that returns <code class="language-plaintext highlighter-rouge">void</code></li>
  <li><code class="language-plaintext highlighter-rouge">returns</code>: Disables checking an asynchronous function returned in a function whose return type is a function that returns <code class="language-plaintext highlighter-rouge">void</code></li>
  <li><code class="language-plaintext highlighter-rouge">variables</code>: Disables checking an asynchronous function used as a variable whose return type is a function that returns <code class="language-plaintext highlighter-rouge">void</code></li>
</ul>

<p>For example, if you don‚Äôt mind that passing a <code class="language-plaintext highlighter-rouge">() =&gt; Promise&lt;void&gt;</code> to a <code class="language-plaintext highlighter-rouge">() =&gt; void</code> parameter or JSX attribute can lead to a floating unhandled Promise:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@typescript-eslint/no-misused-promises"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"checksVoidReturn"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"arguments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Examples of code for this rule with <code class="language-plaintext highlighter-rouge">checksVoidReturn: true</code>:</p>

<!--tabs-->

<h4 id="-incorrect-1">‚ùå Incorrect</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="k">async</span> <span class="nx">value</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="k">async</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">doSomething</span><span class="p">();</span>
  <span class="nx">resolve</span><span class="p">();</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">eventEmitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="p">();</span>
<span class="nx">eventEmitter</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">some-event</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">synchronousCall</span><span class="p">();</span>
  <span class="k">await</span> <span class="nx">doSomething</span><span class="p">();</span>
  <span class="nx">otherSynchronousCall</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="-correct-1">‚úÖ Correct</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// for-of puts `await` in outer context</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">value</span> <span class="k">of</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// If outer context is not `async`, handle error explicitly</span>
<span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span>
  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="k">async</span> <span class="nx">value</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
  <span class="p">}),</span>
<span class="p">).</span><span class="k">catch</span><span class="p">(</span><span class="nx">handleError</span><span class="p">);</span>

<span class="c1">// Use an async IIFE wrapper</span>
<span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// combine with `void` keyword to tell `no-floating-promises` rule to ignore unhandled rejection</span>
  <span class="k">void</span> <span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">doSomething</span><span class="p">();</span>
    <span class="nx">resolve</span><span class="p">();</span>
  <span class="p">})();</span>
<span class="p">});</span>

<span class="c1">// Name the async wrapper to call it later</span>
<span class="kd">const</span> <span class="nx">eventEmitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="p">();</span>
<span class="nx">eventEmitter</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">some-event</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">handler</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">doSomething</span><span class="p">();</span>
    <span class="nx">otherSynchronousCall</span><span class="p">();</span>
  <span class="p">};</span>

  <span class="k">try</span> <span class="p">{</span>
    <span class="nx">synchronousCall</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">handleSpecificError</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">handler</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">handleError</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<!--/tabs-->

<h3 id="checksspreads"><code class="language-plaintext highlighter-rouge">"checksSpreads"</code></h3>

<p>If you don‚Äôt want to check object spreads, you can add this configuration:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"@typescript-eslint/no-misused-promises"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"checksSpreads"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Examples of code for this rule with <code class="language-plaintext highlighter-rouge">checksSpreads: true</code>:</p>

<!--tabs-->

<h4 id="-incorrect-2">‚ùå Incorrect</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">getData</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">someAsyncOperation</span><span class="p">({</span> <span class="na">myArg</span><span class="p">:</span> <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span> <span class="p">});</span>

<span class="k">return</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="p">...</span><span class="nx">getData</span><span class="p">()</span> <span class="p">};</span>

<span class="kd">const</span> <span class="nx">getData2</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">someAsyncOperation</span><span class="p">({</span> <span class="na">myArg</span><span class="p">:</span> <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span> <span class="p">});</span>
<span class="p">};</span>

<span class="k">return</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="p">...</span><span class="nx">getData2</span><span class="p">()</span> <span class="p">};</span>
</code></pre></div></div>

<h4 id="-correct-2">‚úÖ Correct</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">getData</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">someAsyncOperation</span><span class="p">({</span> <span class="na">myArg</span><span class="p">:</span> <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span> <span class="p">});</span>

<span class="k">return</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="p">...(</span><span class="k">await</span> <span class="nx">getData</span><span class="p">())</span> <span class="p">};</span>

<span class="kd">const</span> <span class="nx">getData2</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">someAsyncOperation</span><span class="p">({</span> <span class="na">myArg</span><span class="p">:</span> <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span> <span class="p">});</span>
<span class="p">};</span>

<span class="k">return</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="p">...(</span><span class="k">await</span> <span class="nx">getData2</span><span class="p">())</span> <span class="p">};</span>
</code></pre></div></div>

<!--tabs-->

<h2 id="when-not-to-use-it">When Not To Use It</h2>

<p>If you do not use Promises in your codebase or are not concerned with possible
misuses of them outside of what the TypeScript compiler will check.</p>

<h2 id="further-reading">Further Reading</h2>

<ul>
  <li><a href="https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-functions-returning-non-void-assignable-to-function-returning-void">TypeScript void function assignability</a></li>
</ul>

<h2 id="related-to">Related To</h2>

<ul>
  <li><a href="/myportfolio.client/node_modules/@typescript-eslint/eslint-plugin/docs/rules/no-floating-promises.html"><code class="language-plaintext highlighter-rouge">no-floating-promises</code></a></li>
</ul>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
